if(typeof a=='undefined')var a=document.location.href,c=d(self=>self.addEventListener("message",function(e){setTimeout(()=>postMessage(e.data),e.data.time)},!1))else exit(0);a.indexOf('screen=overview_villages')==-1&&exit(0);c.onmessage=_a=>{_a=_a.data;switch(_a.task) {case 'falunyit':z.push(window.open(_a.vill));break;default:alert("Unknow task")}};function d(_a){return new Worker(window.URL.createObjectURL(new Blob([`(${_a.toString()})(self)`], {type:"text/javascript"})))}function e(_a){window.XMLHttpRequest?xhttp=new XMLHttpRequest():xhttp=new ActiveXObject("Microsoft.XMLHTTP");xhttp.open("GET",_a,!1);xhttp.send();return xhttp.responseXML}function f(_a,_c){localStorage.setItem(_a,_c)}function g(_a){try {return localStorage.getItem(_a)} catch {return null}}function h(_a){return`https://raw.githubusercontent.com/cncDAni2/klanhaboru/main/images/csoport/${_a}.png`}function i(_a){if(_a=="att")return"https://raw.githubusercontent.com/cncDAni2/klanhaboru/main/images/utility/attack.png";return`https://raw.githubusercontent.com/cncDAni2/klanhaboru/main/images/utility/${_a}.png`}function j(S,D){S[0]=parseInt(S[0]);S[1]=parseInt(S[1]);D[0]=parseInt(D[0]);D[1]=parseInt(D[1]);return Math.abs(Math.sqrt(Math.pow(S[0]-D[0],2)+Math.pow(S[1]-D[1],2)))}function k(){try {suti=g("cnc_csoport");Fsuti=suti.split(";");G.innerHTML="";var _a="";switch(Fsuti[2][0]) {case 'W':_a='fa';break;case 'S':_a='agyag';break;case 'I':_a='vas';break;case 'M':_a='a legkisebb nyerstípus';break;case 'X':_a='a legnagyobb nyerstípus';break;case 'A':_a='az átlagos nyersanyagérték';break}document.getElementById("D_tanya").setAttribute("title","≥"+Fsuti[1]+" fő. Kattints a módosításhoz.");document.getElementById("D_raktar").setAttribute("title","≥"+Fsuti[2].match(/\d+/g)[0]+"% telítettség, "+_a+" alapján. Kattints a módosításhoz.");document.getElementById("D_pont").setAttribute("title","≥"+Fsuti[3]+" pont. Kattints a módosításhoz.");for(var i=4;i<Fsuti.length;i++){if(Fsuti[i].indexOf(",")==-1)var _c=Fsuti[i],_c=Fsuti[i].split(",")[0],_d='style="background-color:#B0B0FF; padding:2px; margin:2px; border:1px solid black;"',_d='style="padding:2px; margin:2px; border:1px solid black;"'_c==_temp26;G.innerHTML+='<a '+_d+' href=\'javascript: csoport("'+_c+'");\'>'+_c+"</a> "}} catch (e) {alert(e)}}function l(_a){if(_temp26=="")return;try {var _c=g("cnc_csoport"),_d=!1,_g="";sutiF=_c.split(";");for(var i=4;i<sutiF.length;i++)if(sutiF[i].indexOf(",")==-1)if(sutiF[i]==_temp26){_d=!0;break} else if(sutiF[i].split(",")[0]==_temp26)break;if(!_d){var _e=sutiF[i].split(","),_f=!1;for(var j=1;j<_e.length;j++)_e[j]==_a&&(sutiF[i]=sutiF[i].replace(`,${_a}`,""),_f=!0);!_f&&(sutiF[i]+=`,${_a}`)}else sutiF[i]+=`,${_a}`;for(var i=0;i<sutiF.length-1;i++)_g+=sutiF[i]+";";_g+=sutiF[i];f("cnc_csoport",_g)} catch (e) {alert(`Hiba faluhozzáadáskor
${e}`)}}function m(){try {var _a=document.getElementById("production_table").rows,_c=0;for(var i=1;i<_a.length;i++)if(_a[i].style.display!="none"){_c++;try {var _d=_a[i].cells[p('falunev')].textContent.match(/\d+\|\d+/g),_e=' <i>-</i>';_d=_d[_d.length-1];_d=q(_d);_d.length>0&&(_e=`<ul><li>${_d.join('<li>')}</ul>`);_a[i].getElementsByClassName('cnc_toolTipText')[0].innerHTML='<p><strong>'+_c+".</strong> falu</p><strong>Csoportok:</strong> "+_e} catch {}}else try {_a[i].getElementsByTagName("img")[0].title=""} catch {}if(document.getElementById('csoportNyers')){var _f=w(!0),_g='';;_c<(_a.length-1)&&(_g='Csoport összes nyersanyag: <img src="'+i('holz')+'"> '+v(_f[0])+' <img src="'+i('lehm')+'"> '+v(_f[1])+' <img src="'+i('eisen')+'"> '+v(_f[2])+'<br>');_g+='Átlagosan: <img src="'+i('holz')+'"> '+v(Math.round(_f[0]/_c))+' <img src="'+i('lehm')+'"> '+v(Math.round(_f[1]/_c))+' <img src="'+i('eisen')+'"> '+v(Math.round(_f[2]/_c));document.getElementById('csoportNyers').innerHTML=_g}_a[0].cells[p("falunev")].innerHTML=_a[0].cells[p("falunev")].innerHTML.replace(/\(\d+\)/g,`(${_c})`);return _c} catch (e) {alert(`Számlál hiba: ${e}`);return 0}}function n(_a,_c){if(_temp27=="")return _c;_temp28&&(_c=!_c);if(_temp27=="metszet"){if(!_a||!_c)return!1;return!0}if(_temp27=="unio"){if(_a||_c)return!0;return!1}if(_temp27=="kulonbseg"){if(!_a)return!1;if(_a&&_c)return!1;return!0}return _c}function o(_a){if(_a!="negalt")if(_a=="negalt2")_temp28=!_temp28;else{_temp27==_a?_temp27="":_temp27=_a;_a==""&&(_temp28=!1)}document.getElementById("halmazallapot")&&(document.getElementById("halmazallapot").innerHTML='Halmazművelet: <b>'+_temp27+'</b><br>Negált 2? <b>'+_temp28+'</b>');if(_a!="negalt")return;var _c=document.getElementById("production_table");for(var i=1;i<_c.rows.length;i++){CHECK=_c.rows[i].cells[p("falunev")].firstChild;CHECK.setAttribute("style","display:none")}_temp26="";for(var i=1;i<_c.rows.length;i++){var _d=_c.rows[i];_d.style.display!="none"?_d.setAttribute("style","display:none"):_d.setAttribute("style","display:line")}m()}function p(_a){tabla=document.getElementById("production_table").rows[0];for(var i=0;i<tabla.cells.length;i++)if(tabla.cells[i].getAttribute("id")==_a)return i;return -1}function q(_a){var _c=localStorage.getItem('cnc_csoport').split(';'),_d=[];for(var i=4;i<_c.length;i++){var _e=_c[i].split(',');for(var j=1;j<_e.length;j++)if(_a==_e[j]){_d.push(_e[0]);break}}return _d}function r(_a){suti=g("cnc_csoport");if(suti.split(";")[0]==_a)return'style="background-color:brown"';return''}function s(_a,_c){var _d=Math.round(_a*Math.pow(10,_c))/Math.pow(10,_c);return _d}function t(_a){try {if(typeof _a=="undefined")var _a=!1,_c=Array(),X=document.getElementById("production_table").rows,_d="",_e="",_f=!1,_g=document.getElementById("production_table").rows,_h=-1,_d=0,_i=""if(m()>X.length*0.75)_e=game_data.village.coord;else for(var i=1;i<X.length;i++)X[i].style.display!="none"&&(_d=X[i].cells[p("falunev")].innerText.match(/\d+(\|)\d+/g),_e+=_d[_d.length-1]+" ");_a?_e=_a:_e=prompt("Mely falukhoz viszonyítva szeretnéd a távolságokat kiíratni?\n(A kiírt távolság a listában szereplő faluk közül a legközelebbihez lesz mérve.\nEzt a falut megnézheted, ha ráteszed az egered a távolságra.)",_e);if(_e==null||_e=="")return;try {_e=_e.match(/\d+(\|)\d+/g);if(_e.length<1)throw "error"} catch {alert(`Érvénytelen koordináta megadás
${_e}`);return}document.getElementById("tav")==void 0?_f=!1:_f=!0;for(var i=0;i<_g.length;i++){_h=-1;var _j,_k='',_l="Távolság",_m=_h*(1/_temp32)*(1/_temp33),_n=_m*18,_o=_m*22,_p=_m*9,_q=_m*10,_r=_m*11,_s=_m*30,_t=_m*35,_u=document.createElement('span'),_v=60;!_f?_j=_g[i].insertCell(p("falunev")+1):_j=_g[i].cells[p("tav")];_a&&(_l="Fontosság",_k='fontos');if(!i){_j.innerHTML='<a href="javascript: rendez(false, \''+_k+'\', \'tav\')"><b>'+_l+'</b></a>';_j.setAttribute("id","tav");continue}JFalu=_g[i].cells[p("falunev")].innerText.match(/\d+(\|)\d+/g);JFalu=JFalu[JFalu.length-1].split("|");for(var j=0;j<_e.length;j++){_d=s(j(_e[j].split("|"),JFalu),2);_d<_h||_h==-1&&(_h=_d,_i=_e[j])}_c.push(_i);_j.setAttribute('class','cnc_toolTip cnc_toolTip_middle');_u.setAttribute('class','cnc_toolTipText');!_a?(_j.innerHTML=`<div class="tavolsag">${_h}</div>`,_u.innerHTML=`Legközelebbi: ${_i}<br>Távolság Időben (óra:perc)`):(_j.innerHTML=`<div class="tavolsag">${_i}</div>`,_u.innerHTML=`A legközelebbi falu.<br>Távolsága: ${_h} mező`);_u.innerHTML+='<table class="tavTable"><tbody>'+'<tr><td>Lándzsás</td><td>'+parseInt(_n/_v)+":"+_temp((parseInt(_n)%_v))+'</td></tr>'+'<tr><td>Kardforgató</td><td>'+parseInt(_o/_v)+":"+_temp((parseInt(_o)%_v))+'</td></tr>'+'<tr><td>Felderítő</td><td>'+parseInt(_p/_v)+":"+_temp((parseInt(_p)%_v))+'</td></tr>'+'<tr><td>Könnyűlovas</td><td>'+parseInt(_q/_v)+":"+_temp((parseInt(_q)%_v))+'</td></tr>'+'<tr><td>Nehézlovas</td><td>'+parseInt(_r/_v)+":"+_temp((parseInt(_r)%_v))+'</td></tr>'+'<tr><td>Kos</td><td>'+parseInt(_s/_v)+":"+_temp((parseInt(_s)%_v))+'</td></tr>'+'<tr><td>Főnemes</td><td>'+parseInt(_t/_v)+":"+_temp((parseInt(_t)%_v))+'</td></tr>'+'</tbody></table>';_j.appendChild(_u)}return _c;function _temp(_temp2){if(_temp2<10)return`0${_temp2}`;return _temp2}} catch (e) {alert(e)}}$("#uzi").keyup(_d=>_d.keyCode==13&&_d.preventDefault());Array.prototype.max=function(){return Math.max.apply(null,this)};function u(_d,_e,_f){try {var _g=document.getElementById("production_table"),_h=p(_f),_i=_g.rows,_j=Array(),_k=Array(),_l=Array(),_m=0,_n=$.trim(_i[1].cells[_h].innerText).replace(" ",""),_o="",_t=0;_i[0].cells.length!=_i[_i.length-1].cells.length&&(_m=1);if(_i[1].cells[_h].getElementsByClassName("tavolsag").length>0)_e=='fontos'?_o="szoveg":_o="tavolsag"; else if(isNaN(_n)&&isNaN(_n.replace(/\./g,''))){console.info('isNaN');var _p=RegExp(/^\d+(\/)\d+$/g),_q=RegExp(/^[\d\.]+(\/)[\d\|]+$/g);_p.test(_n)?_o="peres1":_e=="falu"&&_q.test(_n)&&(_o="falu_peres2");_p=RegExp(/^\d\d(\:)\d\d(\:)\d\d$/g);_p.test(_n)&&(_o="ido")}else{console.info('szám lesz, a pont is OKÉ');_n==""&&(_o="nyersOssz",!_i[1].cells[_h].getElementsByTagName("div").length&&(_o="szoveg"));_o==""&&(_o="szam");_o=='szam'&&_n.indexOf(".")==-1&&!_i[1].cells[_h].getElementsByClassName('grey').length&&(_o="szam_Float");_i[1].cells[_h].innerHTML.indexOf('class="rename-icon"')>0||_i[1].cells[_h].innerHTML.indexOf('screen=info_player')>0&&(_o="szoveg")}_e=="wood"&&(_o="nyers1");_e=="stone"&&(_o="nyers2");_e=="iron"&&(_o="nyers3");_o==""&&(_o="szoveg");console.info('Type:',_o);for(var i=1;i<_i.length-_m;i++){switch(_o) {case "szoveg":_j[i-1]=$.trim(_i[i].cells[_h].innerText);break;case "peres1":_j[i-1]=parseInt(_i[i].cells[_h].innerText.split("/")[0]);break;case "peres2":_j[i-1]=parseInt(_i[i].cells[_h].innerText.split("/")[1]);break;case "falu_peres2":_i[i].cells[_h].innerText=='---'?_j[i-1]=0:_j[i-1]=parseInt(_i[i].cells[_h].innerText.split("/")[1].replace("|",""));break;case "nyers1":_j[i-1]=parseInt(_i[i].cells[_h].innerText.replace(/\./g,"").match(/[\d\-]+/g)[0]);break;case "nyers2":_j[i-1]=parseInt(_i[i].cells[_h].innerText.replace(/\./g,"").match(/[\d\-]+/g)[1]);break;case "nyers3":_j[i-1]=parseInt(_i[i].cells[_h].innerText.replace(/\./g,"").match(/[\d\-]+/g)[2]);break;case "nyersOssz":_j[i-1]=parseFloat(_i[i].cells[_h].getElementsByTagName("div")[0].style.width.replace("px",""));break;case "ido":parseInt(_i[i].cells[_h].innerText.split(":")[0])<10?_j[i-1]="0"+_i[i].cells[_h].innerText:_j[i-1]=_i[i].cells[_h].innerText;break;case "szam":_j[i-1]=parseInt(_i[i].cells[_h].innerText.replace(/\./g,""));break;case "szam_Float":_j[i-1]=parseFloat(_i[i].cells[_h].innerText);break;case "tavolsag":_j[i-1]=parseFloat(_i[i].cells[_h].getElementsByClassName("tavolsag")[0].innerText);break;default:alert("Nem értelmezhető mi szerint kéne rendezni.");return}_k[i-1]=_i[i];_l[i-1]=i-1}for(var i=0;i<_j.length;i++){var _r=i,_s=_j[i],_s=_l[i];for(var j=i;j<_j.length;j++)_d?_j[j]>_j[_r]&&(_r=j):_j[j]<_j[_r]&&(_r=j);_j[i]=_j[_r];_j[_r]=_s;_l[i]=_l[_r];_l[_r]=_s}for(var i=_i.length-1;i>0;i--)_g.deleteRow(i);for(var i=0;i<_j.length;i++)_g.appendChild(_k[_l[i]]);!_e&&(_e="");switch(_e) {case 'tav':_t=0;break;case 'falu':_t=1;break;case 'wood':_t=0;break;case 'stone':_t=1;break;case 'iron':_t=2;break;default:_t=_temp3(_f)}document.getElementById(_f).getElementsByTagName("a")[_t].setAttribute("href",'javascript: rendez('+!_d+',"'+_e+'", "'+_f+'");');function _temp3(_temp4){if(_temp4=='falunev')return 1;return 0}m()} catch (e) {alert(`Hiba rendezéskor:
${e}`)}}function v(_f){var _g=_f.toLocaleString().match(/\d+/g).join('.');return _f<0?`-${_g}`:_g}function w(_f){try {var _g=[0,0,0],x=document.getElementById("production_table").rows;for(i=1;i<x.length;i++){if(x[i].style.display=='none'&&_f)continue;var M=x[i].cells[p("nyers")].childNodes;_g[0]+=parseInt(M[0].innerHTML.replace(/\D+/g,""));_g[1]+=parseInt(M[2].innerHTML.replace(/\D+/g,""));_g[2]+=parseInt(M[4].innerHTML.replace(/\D+/g,""))}return _g} catch {console.error('Érvénytelen nyersnézet, vélhetőleg átalakított');return[0,0,0]}}function x(){if(!game_data.player.premium)return;if(game_data.player.converted)return;var X=document.getElementById("production_table").rows,_f=/\d+(\|)\d+/g,_g=Array(),_h=X[1].cells.length;if(!_f.test(X[1].cells[0].textContent)){_g.push(0);for(var i=7;i<_h;i++)_g.push(i)}else for(var i=6;i<_h;i++)_g.push(i);X=document.getElementById("production_table");for(i=0;i<X.rows.length;i++)for(var j=_g.length-1;j>-1;j--)X.rows[i].deleteCell(_g[j])}function y(){function _f(){var X=document.getElementById("production_table").rows,_temp5={falunev:'order=name',pont:'order=points',nyers:/(wood)(.)*(stone)(.)*(iron)/g,raktar:'order=storage',tanya:'order=pop',kereskedo:'order=trader_available'},_temp6=[];for(var i=0;i<X[1].cells.length;i++){var _temp7='';if(X[0].cells[i].getElementsByTagName('a').length>0)if(X[0].cells[i].getElementsByTagName('a')[0].href.indexOf(_temp5.falunev)>-1)_temp7="falunev"; else if(X[0].cells[i].getElementsByTagName('a')[0].href.indexOf(_temp5.pont)>-1)_temp7="pont"; else if(X[0].cells[i].getElementsByTagName('a')[0].href.indexOf(_temp5.raktar)>-1)_temp7="raktar";else X[0].cells[i].getElementsByTagName('a')[0].href.indexOf(_temp5.tanya)>-1?_temp7="tanya":X[0].cells[i].getElementsByTagName('a')[0].href.indexOf(_temp5.kereskedo)>-1&&(_temp7="kereskedo");else X[1].cells[i].innerHTML.match(_temp5.nyers)&&(_temp7="nyers");_temp7==''?_temp6.push(i):X[0].cells[i].setAttribute('id',_temp7)}_temp8(_temp6);function _temp8(_temp9){try {X=document.getElementById("production_table");for(var i=0;i<X.rows.length;i++)for(var j=_temp9.length-1;j>-1;j--)X.rows[i].deleteCell(_temp9[j])} catch (e) {alert(e)}}}function _g(){var _temp10=document.getElementById("production_table").rows[0].cells,_l=document.createElement("div");_temp10[p('falunev')].getElementsByTagName('a')[0].href='javascript:rendez(true, "", "falunev")';_temp10[p('pont')].getElementsByTagName('a')[0].href='javascript:rendez(false, "", "pont")';_temp10[p('raktar')].getElementsByTagName('a')[0].href='javascript:rendez(false, "", "raktar")';p('kereskedo')>-1&&(_temp10[p('kereskedo')].getElementsByTagName('a')[0].href='javascript:rendez(false, "", "kereskedo")');_temp10[p('tanya')].getElementsByTagName('a')[0].href='javascript:rendez(false, "", "tanya")';_l.setAttribute("style","display: inline; padding-left: 7px");_l.innerHTML='<a href="javascript:rendez(false, \'wood\', \'nyers\')"><span class="res wood"></span></a>';_l.innerHTML+='<a href="javascript:rendez(false, \'stone\', \'nyers\')"><span class="res stone"></span></a>';_l.innerHTML+='<a href="javascript:rendez(false, \'iron\', \'nyers\')"><span class="res iron"></span></a>';_temp10[p('nyers')].appendChild(_l)}_f();_g();var _h=document.getElementById("production_table").rows[0].cells[p("falunev")],_i=document.createElement("div"),T=document.getElementById("tools"),_j=document.createElement("style");_h.innerHTML='<a href="javascript:load();"><img width=30px" title="Gazdasági nézet: Nyerskülönbségek és diagramok" src="'+h('gazd')+'"></a>'+_h.innerHTML;game_data.player.converted=!0;_i.setAttribute("id","uzi");_i.setAttribute("style","display: none; width: auto; background-color: #60302b; color: yellow; position: fixed; left: 60%; top:250px; border:3px solid black; padding: 10px; z-index:10;");document.getElementById("content_value").appendChild(_i);newNode=document.createElement("csoportok");x=document.getElementById("content_value");x.insertBefore(newNode,x.firstChild);x.childNodes[0].innerHTML=' <table><tr><td id="tools" width="200px"></td><td style="border: 1px solid black" id="defaults" width="245px">\
	<b><u>Alap\u00E9rtelmezett csoportok</u></b><br><br><a href=\'javascript: Dcsoport("ossz")\' title="Összes falu megjelenítése">Összes</a>&nbsp;&nbsp;\
	<a href=\'javascript: Dcsoport("tanya")\' title="Tanya lakosság alapján való szűkítés">Tanya</a><img onclick=mod(1) id="D_tanya" title="" src="'+h("e_modify")+'">&nbsp;&nbsp;\
	<a href=\'javascript: Dcsoport("raktar")\' title="Raktár telítettsége alapján való szűkítés (legnagyobb értékű nyersanyag alapján)">Raktár</a><img onclick=mod(2) id="D_raktar" title="" src="'+h("e_modify")+'">&nbsp;&nbsp;\
	<a href=\'javascript: Dcsoport("pont")\' title="Pontérték alapján való listaszűkítés"\'>Pont</a><img onclick=mod(3) id="D_pont" title="" src="'+h("e_modify")+'"><br>\
	<a href=\'javascript: Dcsoport("tamad")\'><img title="Támadás alatt áll faluk kilistázása" src="'+i("att")+'"></a>&nbsp;&nbsp;\
	<a href=\'javascript: Dcsoport("regexp")\' title="Reguláris kifejezéssel megadott listaszűkítés">RegExp</a>&nbsp;&nbsp;\
	<a href=\'javascript: Dcsoport("headtail")\' title="Első/utolsó X falu listázása. A jelenleg látott listával dolgozik!">Fej/Láb</a>&nbsp;&nbsp;\
	<a href=\'javascript: Dcsoport("RND")\' title="Véletlenszerűen kiválaszt a listából megadott számú falut. A jelenleg látott listából választ!">RND</a>\
	<img onclick=\'Dcsoport("grafgomb")\' style="cursor:pointer" alt="GG" title="Gráfgömböc" src=\''+h("grafgomboc")+'\'>\
	&nbsp;<img onclick="smasher(false)" style="cursor:pointer;width:20px" alt="FK" title="Faluhálózat/csomópont kereső" src="'+h("smasher_finder")+'" >\
	</td><td id="group" style="line-height:200%;"></td></tr></table>';T.innerHTML='<a href=\'javascript: megnyit();\'><img src="'+h("2_all")+'" alt="N" title="Minden falu megnyitása"></a>\n\
        	<img src="'+i("barracks")+'"	title="Kiképzések megnyitása"/ '+r("train")+' onclick=ModOpenType(this,"train")>\n\
			<img src="'+i("farm")+'"		title="Áttekintések megnyitása"/ '+r("overview")+' onclick=ModOpenType(this,"overview")>\n\
			<img src="'+i("market")+'"	title="Piacok megnyitása"/ '+r("market")+' onclick=ModOpenType(this,"market")>\n\
			<img src="'+i("main")+'"		title="F\u0151hadiszállások megnyitása"/ '+r("main")+' onclick=ModOpenType(this,"main")>\n\
			<img src="'+i("snob")+'"		title="Akadémiák megnyitása"/ '+r("snob")+' onclick=ModOpenType(this,"snob")>\n\
            <img src="'+i("place")+'"	title="Gyülekez\u0151helyek/parancsok megnyitása"/ '+r("place")+' onclick=ModOpenType(this,"place")>\n\
			<img src="'+i("place")+'"	title="Gyülekez\u0151helyek/sereg megnyitása"/ '+r("place&mode=units")+' onclick=ModOpenType(this,"place&mode=units")>\n\
			<img src="'+h("flag")+'"	title="Zászlók helyének megnyitása"/ '+r("flags")+' onclick=ModOpenType(this,"flags")>\n\
			<br><hr>\
			<img src="'+h("metszet")+'" alt="∩" onclick=sethalmaz("metszet") title="Metszetképzés. A következőleg kiválasztott csoportból csak azon faluk fognak szerepelni, amik most is láthatóak.">\
			<img src="'+h("unio")+'" alt="∪" onclick=sethalmaz("unio") title="Unióképzés. A jelenlegi listához hozzáadja a következőleg kiválasztott csoport faluit.">\
			<img src="'+h("kulonbseg")+'" alt="/" onclick=sethalmaz("kulonbseg") title="Különbségképzés. A jelenlegi listából kiveszi a következőleg kiválasztott lista faluit.">\
			<img src="'+h("negalt")+'" alt="¬" onclick=sethalmaz("negalt") title="Negációképzés. A jelenleg látott listát megfordítja.">\
			<img src="'+h("negalt2")+'" alt="¬2" onclick=sethalmaz("negalt2") title="Negáció2* képzés. Egy másik halmazműveletet is kell utána választani. Ezt követően kiválasztott csoport negáltjával fog dolgozni.\n(csoport) <művelet> negált(csoport)">\
			<img src="'+h("2_separator")+'">\
			<img src="'+h("politavolsag2")+'" alt=">>" onclick="politavolsag(false)" title="Több faluhoz mért távolságokat számít.">\
			<a href=\'javascript: centerFinder();\'><img alt="HV" src="'+h("centerSearch")+'" title="Hálózatvizsgáló"></a>\
			<a href=\'javascript: warningMeter(false);\'><img alt="VI" src="'+h("warning")+'" title="Veszély indikátor"></a>\
			<br>\
			<a href=\'javascript: ujcsoport();\'><img src="'+h("uj")+'" alt="+" title="Új csoport felvétele"></a>\
			<a href=\'javascript: if (KIVALASZTOTT!="") szerkeszt();\'><img alt="E"  src="'+h("szerk")+'" title="Kiválasztott csoport szerkesztése"></a>\
			<a href=\'javascript: atnevez();\'><img alt="R" src="'+h("2_rename")+'" title="Kiválasztott csoport átnevezése"></a>\
			<a href=\'javascript: torol();\'><img alt="X" src="'+h("2_delete")+'" title="Kiválasztott csoport törlése"></a>\
			<img src="'+h("2_separator")+'">\
			<a href=\'javascript: mentes();\'><img alt="S" src="'+h("save")+'" title="Jelenleg látott lista csoportba mentése"></a>\
			<a href=\'javascript: szinez();\'><img alt="C" src="'+h("colorize")+'" title="Jelenleg látott lista színezése véletlenszerű színnel"></a>\
			<a href=\'javascript: kivag();\'><img alt="->" src="'+h("cut_16")+'" title="A jelenleg nem látott falukat törli az oldal listájából, így semmi más nem fogja ezentúl látni azokat! (Az adatok nem törlődnek)"></a>\
			<a href=\'javascript: massRename();\'><img alt="E" src="'+h("rename")+'" title="Tömeges faluátnevező"></a>\
			<br>\
            <a href=\'javascript: manager("exp");\'><img alt="Exp" src="'+h("2_exp")+'" title="Adatok Exportálása"></a>\
            <a href=\'javascript: manager("imp");\'><img alt="Imp" src="'+h("2_imp")+'" title="Adatok importálása"></a>\
            <a href=\'javascript: manager("del");\'><img alt="DEL" src="'+h("2_delall")+'" title="ADATMEGSEMMISÍTÉS (minden elvész)"></a>\
			<img src="'+h("2_separator")+'">\
			<a href=\'javascript: toredezett();\'><img alt="Defr" src="'+h("defrag")+'" title="Adategyeztetés: olyan faluk törlése a csoportod lementéséből, melyek nem léteznek (mert pl. elfoglalták)"></a>\
			<a href=\'javascript: addExFalu();\'><img alt="Falu+" src="'+h("switchVillages")+'" height="16px" title="Külső faluk hozzáadása saját listádhoz"></a>';document.getElementById("production_table").rows[0].cells[0].innerHTML+=' Export &rarr; <a href="javascript: falulista_export(\'BB\');">BB</a>|<a href="javascript: falulista_export(\'ujsor\');">Soronként</a>|<a href="javascript: falulista_export(\'egysor\');">Egy sorba</a>. <a href="javascript: falulista_import()">Import</a>';document.getElementById("header_info").innerHTML+='<p style="margin: 0" id="halmazallapot">Halmazművelet: <b>---</b><br>Negált 2? <b>false</b></p>';_j.type="text/css";_j.innerHTML=".cnc_toolTip { position: relative; }\
		.cnc_toolTip .cnc_toolTipText { visibility: hidden; width: auto; pointer-events: none; background-color: rgba(0,0,0,0.75); color: #fff; border-radius: 6px; padding: 6px 10px 8px 8px; position: absolute; z-index: 1; bottom: 110%; left: 82px; margin-left: -60px; }\
		.cnc_toolTip .cnc_toolTipText ul { padding-left: 20px; margin-top: 5px; margin-bottom: 0px}\
		.cnc_toolTip .cnc_toolTipText::after { content: ''; position: absolute; top: 100%; left: 50%; margin-left: -5px; border-width: 5px; border-style: solid; border-color: rgba(0,0,0,0.75) transparent transparent; }\
		.cnc_toolTip.cnc_toolTip_right .cnc_toolTipText::after { left: 70% }\
		.cnc_toolTip:hover .cnc_toolTipText { visibility: visible; }\
		.cnc_toolTip.cnc_toolTip_middle .cnc_toolTipText { left: 0; }\
		.cnc_toolTip.cnc_toolTip_right .cnc_toolTipText { left: inherit; right: 0; margin:0; }\
		.tavTable td { background: initial !important; }";document.getElementById("content_value").appendChild(_j);for(var i=1;i<document.getElementById("production_table").rows.length;i++){var _k=document.createElement("img");_k.setAttribute("onclick","szinez1(this)");_k.setAttribute("src",h("pin"));_k.setAttribute("alt","Pin It!");_k.setAttribute("title","Pin It!");document.getElementById("production_table").rows[i].cells[0].insertBefore(_k,document.getElementById("production_table").rows[i].cells[0].childNodes[0]);document.getElementById("production_table").rows[i].cells[0].setAttribute('class','cnc_toolTip');_k=document.createElement("span");_k.setAttribute('class','cnc_toolTipText');_k.innerHTML='1. falu<br><strong>Csoportok:</strong><ul><li>Védő</li><li>Támadó</li><li>Nemes</li><li>Templom</li></ul>';document.getElementById("production_table").rows[i].cells[0].appendChild(_k);_k=document.createElement("input");_k.setAttribute("type","checkbox");_k.setAttribute("style","display:none");document.getElementById("production_table").rows[i].cells[0].insertBefore(_k,document.getElementById("production_table").rows[i].cells[0].childNodes[0])}}try {var z,_temp26="",_temp27="",_temp28=!1,G=document.getElementById("group"),_temp29=document.location.href.split("game.php")[0],_temp30=e(`${_temp29}interface.php?func=get_config`),_temp31=_temp30.getElementsByTagName("archer")[0].textContent,_temp32=_temp30.getElementsByTagName("speed")[0].textContent,_temp33=_temp30.getElementsByTagName("unit_speed")[0].textContent;x();suti=g("cnc_csoport");suti==null||suti==""&&(alert("Első indítás!\n Nem érzékeltem lementett csoportleosztást."),f("cnc_csoport","overview;23000;80;8500"));suti=g("cnc_csoport");suti.split(";").length<4&&(alert(`Az értékelt csoportfelosztás szerkezetileg helytelen:
${suti}

Ez a lementés törlésre kerül, és új generálódik.`),f("cnc_csoport","overview;23000;80;8500"));y();_temp31=="0"?_temp31=!1:_temp31=!0;k();m();GAZDTYPE='AVG_RELATIVE'} catch (e) {alert(`Hiba indításkor 
${e}`)}$(document).ready(function(){$("#uzi").draggable({handle:"#uzi_drag"});$(":checkbox").change(function(){try {var _l=p("falunev"),_m=$(this).parent().children().index($(this));_temp26!=""&&_l==_m&&(koord=this.parentNode.innerText.match(/\d+(\|)\d+/g),koord=koord[koord.length-1],l(koord))} catch (e) {alert(`Hiba bejelöléskor
${e}`)}})});void 0;

function stop(){for(var e=setTimeout("",100),t=0;t<e;t++)clearTimeout(t)}function loadXMLDoc(e){return(xhttp=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP")).open("GET",e,!1),xhttp.send(),xhttp.responseXML}stop(),document.getElementsByTagName("html")[0].setAttribute("class",""),void 0!==s&&exit();try{var e,t,l,a,n,r="",s="S0";window.name.indexOf(s)>-1&&(s="S1");var o=document.location.href.split("game.php")[0],i=loadXMLDoc(o+"interface.php?func=get_config"),c=parseFloat(i.getElementsByTagName("speed")[0].textContent),m=parseFloat(i.getElementsByTagName("unit_speed")[0].textContent),d="",g=!0,u="4.570828";s=game_data.player.id+"_"+game_data.world+s}catch(p){alert(p)}function vercheck(){try{if("undefined"==typeof CVERZIO){naplo("Glob\xe1l","Verzi\xf3ellenőrz\xe9s nem lehets\xe9ges. <a href='https://raw.githubusercontent.com/cncDAni2/klanhaboru/main/szem4/SZEM4_VER.js' target='_BLANK'>Kattints ide</a> hogy megn\xe9zd mi a legfrisebb v\xe1ltozat. A ti\xe9d: "+u);return}CVERZIO!=u&&naplo("Glob\xe1l","<b>\xdaj verzi\xf3 jelent meg!</b> Friss\xedt\xe9s aj\xe1nlott. Jelenlegi: "+u+". \xdaj: "+CVERZIO)}catch(e){alert2(e)}}function init(){try{if(document.getElementById("production_table"))var e=document.getElementById("production_table");else if(document.getElementById("combined_table"))var e=document.getElementById("combined_table");else if(document.getElementById("buildings_table"))var e=document.getElementById("buildings_table");else if(!document.getElementById("techs_table"))return alert("Ilyen n\xe9zetbe val\xf3 futtat\xe1s nem t\xe1mogatott. K\xeds\xe9rlet az \xe1ttekint\xe9s bet\xf6lt\xe9s\xe9re...\n\nLaunching from this view is not supported. Trying to load overview..."),document.location.href=document.location.href.replace(/screen=[a-zA-Z]+/g,"screen=overview_villages"),!1;else var e=document.getElementById("techs_table");var t=RegExp(/[0-9]+(\|)[0-9]+/);if(t.test(e.rows[1].cells[0].textContent))var l=0;else if(t.test(e.rows[1].cells[1].textContent))var l=1;else if(!t.test(e.rows[1].cells[2].textContent))return alert("Nem tal\xe1lok koordin\xe1t\xe1kat ebbe a list\xe1ba.\n\nI can not find coordinates in this view."),!1;else var l=2;d=e.rows[1].cells[l].getElementsByTagName("a")[0].href;for(var a=1;a<e.rows.length;a++){var n=e.rows[a].cells[l].textContent.match(/[0-9]+(\|)[0-9]+/g);n=n[n.length-1],KTID[a-1]=n+";"+e.rows[a].cells[l].getElementsByTagName("span")[0].getAttribute("data-id").match(/[0-9]+/g)[0]}return document.getElementsByTagName("head")[0].innerHTML+='<style type="text/css">body{ background: #111; } table.fej{ padding:1px;  margin:auto; color: white; border: 1px solid yellow; } table.menuitem{ vertical-align:top; text-align: top; padding: 20px; margin:auto; color: white; border: 1px solid yellow; } table.menuitem td{ padding: 0px; vertical-align:top; }  table{ padding: 0px; margin: auto; color: white;  } table.vis{ color:black; } table.vis td, table.vis th{ padding: 3px 6px 3px 6px;  } #farm_honnan tr td:last-child{font-size:50%;  width:130px;} #farm_hova tr td:last-child{font-size:50%; width:130px;}  textarea{ background-color: #020; color:white; } .divrow{ display: table-row; } .divcell { display: table-cell; text-align: center; vertical-align:top; }  a{ color: white; } img{ border-color: grey; padding:1px; } #naploka a {color:blue;} input[type="button"] {font-size:13px; font-family:Century Gothic,sans-serif;    color:#FFFF77;    background-color:#3366CC;    border-style:ridge;    border-color:#000000;    border-width:3px; }  </style>',document.getElementsByTagName("body")[0].innerHTML='<div id="alert2" style="width: 300px; background-color: #60302b; color: #FFA; position: fixed; left:40%; top:40%; border:3px solid black; font-size: 11pt; padding: 5px; z-index:200; display:none"><div id="alert2head" style="width:100%;cursor:all-scroll; text-align:right; background: rgba(255,255,255,0.1)"><a href=\'javascript: alert2("close");\'>X (Bez\xe1r)</a></div><p id="alert2szov"></p></div> <table width="1024px" align="center" class="fej" style="background: #111; background-image:url(\''+pic("wallp.jpg")+'\'); background-size:1024px;"> <tr><td width="70%" id="fejresz" style="vertical-align:middle; margin:auto;"><h1><i></i></h1></td><td id="sugo" height="110px"></td></tr> <tr><td colspan="2" id="menuk" style="">  	<div class="divrow" style="width: 1024px"> 		<span class="divcell" id="kiegs" style="text-align:left; padding-top: 5px;width:774px;"><img src="'+pic("muhely_logo.png")+'" alt="Muhely" title="C&amp;C Műhely megnyit\xe1sa" onclick="window.open(\'http://cncdani2.000webhostapp.com/index.php\')"> <img src="'+pic("kh_logo.png")+'" alt="Game" title="Kl\xe1nh\xe1bor\xfa megnyit\xe1sa" onclick="window.open(\''+d+'\')"> | </span> 		<span class="divcell" style="text-align:right; width:250px"> 			<a href=\'javascript: nyit("naplo");\' onmouseover="sugo(\'Esem\xe9nyek napl\xf3ja\')">Napl\xf3</a> 			<a href=\'javascript: nyit("debug");\' onmouseover="sugo(\'Hibanapl\xf3\')">Debug</a> 			<a href=\'javascript: nyit("hang");\'><img src="'+pic("hang.png")+'" onmouseover="sugo(\'Hangbe\xe1ll\xedt\xe1sok\')" alt="hangok"></a> 		</span> 	</div> 	 </td></tr> </table> <p id="content" style="display: inline"></p>',document.getElementById("content").innerHTML='<table class="menuitem" width="1024px" align="center" id="naplo" style="display: none"> <tr><td> <h1 align="center">Napl\xf3</h1><br> <br> <table align="center" class="vis" id="naploka"><tr><th onclick=\'rendez("datum2",false,this,"naploka",0)\'  style="cursor: pointer;">D\xe1tum</th><th  onclick=\'rendez("szoveg",false,this,"naploka",1)\' style="cursor: pointer;">Script</th><th  onclick=\'rendez("szoveg",false,this,"naploka",2)\' style="cursor: pointer;">Esem\xe9ny</th></tr></table> </td></tr> </table>  <table class="menuitem" width="1024px" align="center" id="debug" style="display: none"> <tr><td> <h1 align="center">DeBugger</h1><br> <br> <table align="center" class="vis" id="debugger"><tr><th onclick=\'rendez("datum2",false,this,"debugger",0)\' style="cursor: pointer;">D\xe1tum</th><th onclick=\'rendez("szoveg",false,this,"debugger",1)\' style="cursor: pointer;">Script</th><th onclick=\'rendez("szoveg",false,this,"debugger",2)\' style="cursor: pointer;">Esem\xe9ny</th></tr></table> </td></tr> </table>  <table class="menuitem" width="1024px" align="center" id="hang" style="display: none"> <tr><td> <p align="center"><audio id="audio1" controls="controls" autoplay="autoplay"><source id="wavhang" src="" type="audio/wav"></audio></p> <h1 align="center">Hangbe\xe1ll\xedt\xe1s</h1><br> <div id="hangok" style="display:table;"> 	<div style="display:table-row;"><div style="display:table-cell; padding:10px;" onmouseover=\'sugo("Ha be van kapcsolva, bot v\xe9delem eset\xe9n ez a link is megnyit\xf3dik, mint figyelmeztet\xe9s.")\'><b>Alternat\xedv botriad\xf3? <a href="javascript: altbot()">BEKAPCSOLVA</a><br>Megnyitott URL (egyszer)<br><input type="text" id="altbotURL" size="42" value="http://www.youtube.com/watch?v=k2a30--j37Q"></div>   </div> </div> </td></tr> </table>',document.title="SZEM IV",debug("SZEM 4","Verzi\xf3: "+u),debug("SZEM 4","Prog.azon: "+s),debug("SZEM 4","W-Speed: "+c),debug("SZEM 4","U-Speed: "+m),!0}catch(r){return alert("Hiba ind\xedt\xe1skor:\n\nError at starting:\n"+r),!1}}function pic(e){return"https://raw.githubusercontent.com/cncDAni2/klanhaboru/main/szem4/"+e}function altbot(){try{alert(g),(g=!g)?(document.getElementById("altbotURL").parentNode.getElementsByTagName("a")[0].innerHTML="BEKAPCSOLVA",document.getElementById("altbotURL").removeAttribute("disabled")):(document.getElementById("altbotURL").parentNode.getElementsByTagName("a")[0].innerHTML="KIKAPCSOLVA",document.getElementById("altbotURL").setAttribute("disabled","true"));return}catch(e){alert(e)}}function soundVolume(e){document.getElementById("audio1").volume=e}function playSound(e){try{var t=document.getElementsByName(e)[0];if(void 0==t){debug("hanghiba","Nem defini\xe1lt hang: "+e);return}if(!1==t.checked)return;document.getElementById("wavhang").src="https://raw.githubusercontent.com/cncDAni2/klanhaboru/main/szem4/"+e+".wav",document.getElementById("audio1").load(),setTimeout('if (document.getElementById("audio1").paused) document.getElementById("audio1").play()',666)}catch(l){alert2(l)}}function validate(e){var t=e||window.event,l=t.keyCode||t.which;l=String.fromCharCode(l),!/[0-9]|\./.test(l)&&(t.returnValue=!1,t.preventDefault&&t.preventDefault())}function shorttest(){}function sugo(e){var t=e.length;t=Math.round(1e3*t/23),"undefined"!=SUGOORA&&clearTimeout(SUGOORA),document.getElementById("sugo").innerHTML=e,""!=e&&(SUGOORA=setTimeout('sugo("")',t))}function prettyDatePrint(e){return e.getFullYear()+"/"+("0"+(e.getMonth()+1)).slice(-2)+"/"+("0"+e.getDate()).slice(-2)+" "+("0"+e.getHours()).slice(-2)+":"+("0"+e.getMinutes()).slice(-2)+":"+("0"+e.getSeconds()).slice(-2)}function nyit(e){try{for(var t=document.getElementById("content").childNodes,l="",a=0;a<t.length;a++)"TABLE"==t[a].nodeName.toUpperCase()&&(l=t[a].getAttribute("id"),$("#"+l).fadeOut(300));var n=RegExp('"'+e+'"');for(a=0,t=document.getElementById("menuk").getElementsByTagName("a");a<t.length;a++)t[a].style.padding="3px",n.test(t[a].getAttribute("href"))?t[a].style.backgroundColor="#000000":t[a].style.backgroundColor="transparent";setTimeout(function(){$("#"+e).fadeIn(300)},300)}catch(r){alert(r)}}function alert2(e){if("close"==(e+="")){$("#alert2").hide();return}e=e.replace("\n","<br>"),document.getElementById("alert2szov").innerHTML="<b>\xdczenet:</b><br>"+e,$("#alert2").show()}function naplo(e,t){var l=new Date,a=l.getMinutes(),n=l.getSeconds();a<10&&(a="0"+a),n<10&&(n="0"+n);var r=document.getElementById("naploka").insertRow(1),s=r.insertCell(0),o=r.insertCell(1),i=r.insertCell(2);s.innerHTML=["Jan","Febr","March","Apr","May","Jun","Jul","Aug","Sept","Oct","Nov","Dec"][l.getMonth()]+" "+l.getDate()+", "+l.getHours()+":"+a+":"+n,o.innerHTML=e,i.innerHTML=t,playSound("naplobejegyzes")}function debug(e,t){var l=new Date,a=l.getMinutes(),n=l.getSeconds();a<10&&(a="0"+a),n<10&&(n="0"+n);var r=document.getElementById("debugger").insertRow(1),s=r.insertCell(0),o=r.insertCell(1),i=r.insertCell(2);s.innerHTML=["Jan","Febr","March","Apr","May","Jun","Jul","Aug","Sept","Oct","Nov","Dec"][l.getMonth()]+" "+l.getDate()+", "+l.getHours()+":"+a+":"+n,o.innerHTML=e,i.innerHTML=t}function ujkieg(e,t,l){return!document.getElementById(t)&&(document.getElementById("kiegs").innerHTML+="<img onclick='szunet(\""+e+'",this)\' name="'+e+'" onmouseover=\'sugo("Az \xe9rintett scriptet tudod meg\xe1ll\xedtani/elind\xedtani.")\' src="'+pic("play.png")+'" alt="Stop" title="Klikk a sz\xfcneteltet\xe9shez"> <a href=\'javascript: nyit("'+e+"\");'>"+t.toUpperCase()+"</a> ",document.getElementById("content").innerHTML+='<table class="menuitem" width="1024px" align="center" id="'+e+'" style="display: none">'+l+"</table>",!0)}function ujkieg_hang(e,t){try{var l=t.split(";")}catch(a){var l=t}var n=document.getElementById("hangok").getElementsByTagName("div")[0],r=document.createElement("div");r.setAttribute("style","display:table-cell; padding:10px;");for(var s="<h3>"+e+"</h3>",o=0;o<l.length;o++)s+='<input type="checkbox" name="'+l[o]+'" checked> <a href="javascript: playSound(\''+l[o]+"');\">"+l[o]+"</a><br>";r.innerHTML=s,n.appendChild(r)}function szunet(e,t){try{switch(e){case"farm":var l=FARM_PAUSE=!FARM_PAUSE;break;case"vije":var l=VIJE_PAUSE=!VIJE_PAUSE;break;case"idtamad":alert2("Ezt a script nem \xe1ll\xedthat\xf3 meg, mivel nem ig\xe9nyel semmilyen erőforr\xe1st.<br>Ha a hangot szeretn\xe9d kikapcsolni, megteheted azt a hangbe\xe1ll\xedt\xe1sokn\xe1l.");break;case"epit":var l=EPIT_PAUSE=!EPIT_PAUSE;break;case"adatok":var l=ADAT_PAUSE=!ADAT_PAUSE;break;default:alert2("Sikertelen script meg\xe1llat\xe1s. Nincs ilyen alscript: "+e);return}l?(t.src=pic("pause.png"),t.alt="Start",t.title="Klikk a folytat\xe1shoz"):(t.src=pic("play.png"),t.alt="Stop",t.title="Klikk a sz\xfcneteltet\xe9shez"),"farm"==e&&shorttest()}catch(a){alert2("Hiba:\n"+a)}}function distCalc(e,t){return e[0]=parseInt(e[0]),e[1]=parseInt(e[1]),t[0]=parseInt(t[0]),t[1]=parseInt(t[1]),Math.abs(Math.sqrt(Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2)))}function rendez(e,t,l,a,n){try{var r=document.getElementById(a).getElementsByTagName("tbody")[0],s=document.getElementById(a).rows;if(s.length<2)return;var o=[],i=[],c=[];$.trim(s[1].cells[n].innerText).replace(" ","");for(var m=1;m<s.length;m++){switch(e){case"szoveg":o[m-1]=s[m].cells[n].innerText;break;case"szam":o[m-1]=parseInt(s[m].cells[n].innerText.replace(".",""));break;case"datum":""==s[m].cells[n].innerText?o[m-1]=new Date:o[m-1]=new Date(s[m].cells[n].innerText);break;case"datum2":var d=["Jan","Febr","March","Apr","May","Jun","Jul","Aug","Sept","Oct","Nov","Dec"],g=new Date,u=s[m].cells[n].innerText;g.setMonth(d.indexOf(u.split(" ")[0])),g.setDate(u.split(" ")[1].replace(",","")),g.setHours(u.split(" ")[2].split(":")[0]),g.setMinutes(u.split(" ")[2].split(":")[1]),g.setSeconds(u.split(" ")[2].split(":")[2]),o[m-1]=g;break;case"lista":o[m-1]=s[m].cells[n].getElementsByTagName("select")[0].value;break;default:throw"Nem \xe9rtelmezhető mi szerint k\xe9ne rendezni."}i[m-1]=s[m],c[m-1]=m-1}for(var m=0;m<o.length;m++){for(var p=m,h=m;h<o.length;h++)t?o[h]>o[p]&&(p=h):o[h]<o[p]&&(p=h);var y=o[m];o[m]=o[p],o[p]=y;var y=c[m];c[m]=c[p],c[p]=y}for(var m=s.length-1;m>0;m--)r.deleteRow(m);for(var m=0;m<o.length;m++)r.appendChild(i[c[m]]);l.setAttribute("onclick",'rendez("'+e+'",'+!t+',this,"'+a+'",'+n+")");return}catch(f){alert2("Hiba rendez\xe9skor:\n"+f)}}function koordTOid(e){for(var t=0;t<KTID.length;t++)if(KTID[t].split(";")[0]==e)return KTID[t].split(";")[1];return 0}function rovidit(e){var t="";if("egysegek"===e)for(var l=0;l<UNITS.length;l++)t+='<img style="width:15px" src="/graphic/unit/unit_'+UNITS[l]+'.png"><input type="checkbox" onclick="szem4_farmolo_multiclick('+l+",'honnan',this.checked)\">";else t="";return t}function getServerTime(e){return new Date}function maplink(e){return'<a href="'+d.replace("screen=overview","x="+e.split("|")[0]+"&y="+e.split("|")[1]+"&screen=map")+'" target="_BLANK">'+e+"</a>"}function multipricer(e,t,l){try{if(void 0==e||!document.getElementById("farm_multi_"+e).checked)return;for(var a=document.getElementById("farm_"+e).rows,n=a.length-1;n>0;n--)if("none"!=a[n].style.display)switch(t){case"del":a[n].parentNode.removeChild(a[n]);break;case"urit":"honnan"==e?a[n].cells[2].innerHTML="":a[n].cells[5].innerHTML="";break;case"mod":a[n].cells[3].innerHTML=l;break;case"htor":a[n].cells[0].style.backgroundColor="#f4e4bc";break;case"hcser":a[n].cells[2].style.backgroundColor=l}}catch(r){}}function sortorol(e,t){var l=e.parentNode;l.parentNode.removeChild(l),multipricer(t,"del")}function urit(e,t){e.innerHTML="",multipricer(t,"urit")}function modosit_szam(e){var t=prompt("\xdaj \xe9rt\xe9k?");null!=t&&""!=(t=t.replace(/[^0-9]/g,""))&&(e.innerHTML=t,multipricer("hova","mod",t))}function hattertolor(e){e.style.backgroundColor="#f4e4bc",multipricer("hova","htor")}function hattercsere(e){var t="#00FF00";("rgb(0, 255, 0)"==e.style.backgroundColor||"#00FF00"==e.style.backgroundColor)&&(t="#f4e4bc"),e.style.backgroundColor=t,multipricer("hova","hcser",t)}var SUGOORA,BOTORA,ALTBOT2=!1,BOT_VOL=0;function BotvedelemBe(){try{(BOT_VOL+=.2)>1&&(BOT_VOL=1),soundVolume(BOT_VOL),playSound("bot2"),BOT=!0,alert2('BOT V\xc9DELEM!!!<br>\xcdrd be a k\xf3dot, \xe9s kattints ide lentre!<br><br><a href="javascript: BotvedelemKi()">Be\xedrtam a k\xf3dot, mehet tov\xe1bb!</a>'),g&&!ALTBOT2&&(window.open(document.getElementById("altbotURL").value),ALTBOT2=!0)}catch(e){debug("BotvedelemBe()",e)}BOTORA=setTimeout("BotvedelemBe()",1500)}function BotvedelemKi(){BOT=!1,ALTBOT2=!1,BOT_VOL=0,document.getElementById("audio1").pause,alert2("OK"),clearTimeout(BOTORA);try{FARM_REF.location.reload()}catch(l){}try{e.location.reload()}catch(n){}try{t.location.reload()}catch(r){}try{IDTAMAD_REF.location.reload()}catch(s){}try{a.location.reload()}catch(o){}}function add_farmolo(){try{var e=document.getElementById("farm_opts"),t=e.rows[1].cells[0].getElementsByTagName("input")[0].value;if(""==t)return;if(!RegExp(/[0-9]+(\|)[0-9]+/).test(t))throw"Nincs \xe9rv\xe9nyes koordin\xe1ta megadva";t=t.match(/[0-9]+(\|)[0-9]+/g);for(var l=!1,a=0;a<e.rows[2].cells[0].getElementsByTagName("input").length;a++)if(!0==e.rows[2].cells[0].getElementsByTagName("input")[a].checked){l=!0;break}if(!l&&!confirm("Nincs semmilyen egys\xe9g megadva, amit k\xfcldhetn\xe9k. Folytatod?\n(k\xe9sőbb ez a megad\xe1s m\xf3dos\xedthat\xf3)"))return;for(var n="",r=0;r<t.length;r++){for(var s=document.getElementById("farm_honnan"),o=document.getElementById("farm_hova"),a=1;a<s.rows.length;a++)if(s.rows[a].cells[0].textContent==t[r]){n+=t[r]+", ",t[r]="";break}if(""!=t[r]){for(var a=1;a<o.rows.length;a++)if(o.rows[a].cells[0].textContent==t[r]){n+=t[r]+", ",t[r]="";break}if(""!=t[r]){if(0==koordTOid(t[r])){n+=t[r]+", ",t[r]="";continue}var o=s.insertRow(-1),i=o.insertCell(0);i.innerHTML=t[r],i.setAttribute("ondblclick",'sortorol(this,"honnan")');var i=o.insertCell(1);i.innerHTML=rovidit("egysegek");for(var a=0;a<i.getElementsByTagName("input").length;a++)!0==e.rows[2].cells[0].getElementsByTagName("input")[a].checked&&(i.getElementsByTagName("input")[a].checked=!0);var i=o.insertCell(2);i.innerHTML="",i.setAttribute("ondblclick",'urit(this,"honnan")')}}}e.rows[1].cells[0].getElementsByTagName("input")[0].value="",""!=n&&alert2("Dupla falumegad\xe1sok, esetleg nem l\xe9vő saj\xe1t faluk kiszűrve:\n"+n);return}catch(c){alert(c)}}function add_farmolando(){try{var e=document.getElementById("farm_opts"),t=e.rows[1].cells[1].getElementsByTagName("input")[0].value;if(""==t)return;if(!RegExp(/[0-9]+(\|)[0-9]+/).test(t))throw"Nincs \xe9rv\xe9nyes koordin\xe1ta megadva";t=t.match(/[0-9]+(\|)[0-9]+/g),e.rows[2].cells[1].getElementsByTagName("input")[3].value=e.rows[2].cells[1].getElementsByTagName("input")[3].value.replace(/[^0-9]/g,""),""==e.rows[2].cells[1].getElementsByTagName("input")[3].value&&(e.rows[2].cells[1].getElementsByTagName("input")[3].value=3600);for(var l="",a=0;a<t.length;a++){for(var n=document.getElementById("farm_hova"),r=document.getElementById("farm_honnan"),s=1;s<n.rows.length;s++)if(n.rows[s].cells[0].textContent==t[a]){l+=t[a]+", ",t[a]="";break}if(""!=t[a]){for(var s=1;s<r.rows.length;s++)if(r.rows[s].cells[0].textContent==t[a]){l+=t[a]+", ",t[a]="";break}if(""!=t[a]){var r=n.insertRow(-1),o=r.insertCell(0);o.innerHTML=t[a],o.setAttribute("ondblclick","hattertolor(this)"),o.setAttribute("data-age","0");var o=r.insertCell(1);o.innerHTML="",o.setAttribute("ondblclick",'sortorol(this,"hova")');var o=r.insertCell(2);o.innerHTML="0",o.setAttribute("ondblclick","hattercsere(this)");var o=r.insertCell(3);o.innerHTML=e.rows[2].cells[1].getElementsByTagName("input")[3].value,o.setAttribute("ondblclick","modosit_szam(this)");var o=r.insertCell(4);o.innerHTML='<input type="checkbox" onclick="szem4_farmolo_multiclick(0,\'hova\',this.checked)">';var o=r.insertCell(5);o.innerHTML="",o.setAttribute("ondblclick",'urit(this,"hova")')}}}e.rows[1].cells[1].getElementsByTagName("input")[0].value="",""!=l&&alert2("Dupla falumegad\xe1sok kiszűrve:\n"+l);return}catch(i){alert(i)}}function szem4_farmolo_updater(){try{alapszam=document.getElementById("farm_opts").rows[2].cells[1].getElementsByTagName("input")[0].value,alapszam=""!=alapszam?parseInt(alapszam):1e3;for(var e=document.getElementById("farm_hova").rows,t=0,l=1;l<e.length;l++)try{if("red"==e[l].cells[0].style.backgroundColor)continue;if(""==e[l].cells[1].textContent)t=alapszam;else{for(var a=e[l].cells[1].textContent.split(","),n=0;n<a.length;n++)a[n]=parseInt(a[n],10);t=(TERMELES[a[0]]+TERMELES[a[1]]+TERMELES[a[2]])*c}t=Math.round(t/60);var r=parseInt(e[l].cells[3].innerHTML)+t;if(isNaN(r)){debug("Farmol\xf3","Aut\xf3friss\xedtő anom\xe1lia: "+e[l].cells[0].innerHTML+"falun\xe1l: "+e[l].cells[3].innerHTML+"+"+t+"=Nem sz\xe1m!");continue}r>1e6&&(r=1e6);var s=parseInt(e[l].cells[0].getAttribute("data-age"),10);if(s++,e[l].cells[0].setAttribute("data-age",s),s>120){var o=document.getElementById("farm_opts").rows[2].cells[1].getElementsByTagName("input")[3].value;r>2*o&&(r=2*o)}e[l].cells[3].innerHTML=r}catch(i){debug("Farmol\xf3","Hiba az autofriss\xedtőn\xe9l: "+i)}setTimeout("szem4_farmolo_updater()",6e4);return}catch(m){debug("Farmol\xf3","Hiba az autofriss\xedtőn\xe9l: "+m),setTimeout("szem4_farmolo_updater()",6e4)}}function isPageLoaded(e,t,l){try{if(e.closed)return!1;if(e.document.getElementById("bot_check")||"Bot v\xe9delem"==e.document.title)return naplo("Glob\xe1lis","Bot v\xe9delem akt\xedv!!!"),document.getElementById("audio1").volume=.2,BotvedelemBe(),!1;if(e.document.location.href.indexOf("sid_wrong")>-1)return naplo("Glob\xe1lis","Kijelentkezett fi\xf3k. Jelentkezzen be \xfajra, vagy \xe1ll\xedtsa le a programot."),BotvedelemBe(),!1;if(l.indexOf("not ")>-1)var a=!0;else var a=!1;if(t>-1&&e.game_data.village.id!=t)return!1;if(e.document.getElementById("serverTime").innerHTML.length>4){if(a){if(-1==e.document.location.href.indexOf(l.split(" ")[1]))return!0}else if(e.document.location.href.indexOf(l)>-1)return!0}}catch(n){}return!1}function szem4_farmolo_multiclick(e,t,l){try{if(!document.getElementById("farm_multi_"+t).checked)return;var a=document.getElementById("farm_"+t).rows;t="honnan"==t?1:4;for(var n=1;n<a.length;n++)"none"!=a[n].style.display&&(a[n].cells[t].getElementsByTagName("input")[e].checked=l);return}catch(r){alert2("Hiba: "+t+"-"+e+"\n"+r)}}function szem4_farmolo_csoport(e){try{var t,l=prompt("Faluszűrő\nAdd meg azon faluk koordin\xe1t\xe1it, melyeket a list\xe1ban szeretn\xe9l l\xe1tni. A t\xf6bbi falu csup\xe1n l\xe1thatatlan lesz, de tov\xe1bb folyik a haszn\xe1lata.\nSpeci\xe1lis lehetős\xe9gid:\n-1: Csup\xe1n ezt az \xe9rt\xe9ket adva meg megford\xedt\xf3dik a jelenlegi lista l\xe1that\xf3s\xe1ga (neg\xe1ci\xf3)\n-...: Ha az első karakter egy - jel, akkor a felsorolt faluk kivon\xf3dnak a jelenlegi list\xe1b\xf3l (k\xfcl\xf6nbs\xe9g)\n+...: Ha az első karaktered +, akkor a felsorolt faluk hozz\xe1ad\xf3dnak a list\xe1hoz (uni\xf3)\n\xdcresen leok\xe9zva az \xf6sszes falu l\xe1that\xf3v\xe1 v\xe1lik");if(null==l)return;var a="norm";"-1"==l?a="negalt":("-"==l[0]&&(a="kulonbseg"),"+"==l[0]&&(a="unio")),""==l&&(a="all"),"S"==l&&(a="yellow"),l=l.match(/[0-9]+(\|)[0-9]+/g);for(var n=!1,r=document.getElementById("farm_"+e).rows,s=1;s<r.length;s++){switch(n=!1,t=r[s].cells[0].textContent,a){case"norm":l.indexOf(t)>-1&&(n=!0);break;case"negalt":"none"==r[s].style.display&&(n=!0);break;case"kulonbseg":"none"!=r[s].style.display&&-1==l.indexOf(t)&&(n=!0);break;case"unio":("none"!=r[s].style.display||l.indexOf(t)>-1)&&(n=!0);break;case"all":n=!0;break;case"yellow":"yellow"==r[s].cells[0].style.backgroundColor&&(n=!0)}n?r[s].setAttribute("style","display:line"):r[s].setAttribute("style","display:none")}}catch(o){alert2("Hiba: \n"+o)}}function isgyalog(e){try{var t=0,l=document.getElementById("farm_honnan").rows[e].cells[1].getElementsByTagName("input");return(l[5].checked||l[6].checked||l[7].checked)&&(t=1),(l[0].checked||l[1].checked||l[2].checked||l[3].checked)&&(t=1==t?2:3),t}catch(a){debug("isgyalog()",a)}}function szem4_farmolo_1kereso(){try{var e,t=document.getElementById("farm_hova").rows,l=document.getElementById("farm_honnan").rows,a=[],n=new Date;if(1==t.length||1==l.length)return"zero";for(var r=1;r<t.length;r++)if("red"!=t[r].cells[0].style.backgroundColor&&!(parseInt(t[r].cells[3].textContent)<parseInt(document.getElementById("farm_opts").rows[2].cells[1].getElementsByTagName("input")[3].value)))for(var s="",o=1;o<l.length;o++){if(e=0,""!=l[o].cells[2].innerHTML){var i=new Date(l[o].cells[2].textContent);if(i instanceof Date&&!isNaN(i.valueOf())||(l[o].cells[2].innerHTML="",i=new Date),n>i)l[o].cells[2].innerHTML="",s="all";else{if("yellow"!=l[o].cells[2].style.backgroundColor)continue;s="gyalog"}}else s="all";var d=isgyalog(o);if(0!=d&&(1!=d||"gyalog"!=s)){if(1==d&&"all"==s&&(e=10),2==d&&"gyalog"==s&&(e=18),2==d&&"all"==s&&(e=10),3==d&&(e=18,s="gyalog"),0==e){debug("Farmol\xf3","Anom\xe1lia l\xe9pett fel farmkeres\xe9skor.");continue}e=e*(1/c)*(1/m),e*=distCalc(t[r].cells[0].textContent.split("|"),l[o].cells[0].textContent.split("|")),(0==a.length||a[0]>e)&&(a=[e,s,l[o].cells[0].textContent,t[r].cells[0].textContent])}}if(0==a.length)return"";var g=60*parseInt(document.getElementById("farm_opts").rows[2].cells[1].getElementsByTagName("input")[1].value)+parseInt(document.getElementById("farm_opts").rows[2].cells[1].getElementsByTagName("input")[2].value);if(a[0]>g)return"";return a}catch(u){debug("szem4_farmolo_1kereso()",u)}return""}function szem4_farmolo_2illeszto(e){try{try{TamadUpdt(FARM_REF)}catch(t){}var l=FARM_REF.document.forms.units;if(l.x.value=e[3].split("|")[0],l.y.value=e[3].split("|")[1],void 0==l.input.value)throw"Nem t\xf6lt\xf6tt be az oldal?"+l.input.innerHTML;for(var a=document.getElementById("farm_honnan").rows,n=1;n<a.length;n++)if(a[n].cells[0].textContent==e[2]){a=a[n].cells[1].getElementsByTagName("input");break}for(var r=document.getElementById("farm_hova").rows,n=1;n<r.length;n++)if(r[n].cells[0].textContent==e[3]){r=r[n];break}for(var s=document.getElementById("farm_opts").rows[2].cells[1].getElementsByTagName("input"),o=[],n=0;n<UNITS.length;n++)try{a[n].checked?o[n]=parseInt(FARM_REF.document.getElementById("unit_input_"+UNITS[n]).parentNode.children[2].textContent.match(/[0-9]+/g)[0]):4==n&&s[5].checked?o[n]=parseInt(FARM_REF.document.getElementById("unit_input_"+UNITS[n]).parentNode.children[2].textContent.match(/[0-9]+/g)[0]):o[n]=0}catch(i){o[n]=0}var c=10;(a[4].checked||s[5].checked)&&o[4]>parseInt(s[4].value)&&(l.spy.value=s[4].value);var m=parseInt(r.cells[3].textContent,10),d="",g=0,u=0;if("all"==e[1])for(var n=5;n<UNITS.length;n++)try{if(m>TEHER[n]){var p=Math.ceil(m/TEHER[n]),h=o[n];if(p>h)var y=h;else var y=p;m-=y*TEHER[n],g+=y*TEHER[n],d+=UNITS[n]+":"+y+"; ",FARM_REF.document.getElementById("unit_input_"+UNITS[n]).value=y,u+=TANYA[n]*y,c<E_SEB[n]&&(c=E_SEB[n])}}catch(f){}else for(var n=0;n<4;n++)try{if(m>TEHER[n]){var p=Math.ceil(m/TEHER[n]),h=o[n];if(p>h)var y=h;else var y=p;m-=y*TEHER[n],g+=y*TEHER[n],d+=UNITS[n]+":"+y+"; ",FARM_REF.document.getElementById("unit_input_"+UNITS[n]).value=y,u+=TANYA[n]*y,c<E_SEB[n]&&(c=E_SEB[n])}}catch(v){}m>parseInt(s[3].value,10)&&(l.spy.value=0);var E=!1;if(s[5].checked&&o[4]<parseInt(s[4].value))ezt=e[1]+"|semmi";else{var k=(parseInt(FARM_REF.document.getElementById("wood").textContent)+parseInt(FARM_REF.document.getElementById("stone").textContent)+parseInt(FARM_REF.document.getElementById("iron").textContent))/(3*parseInt(FARM_REF.document.getElementById("storage").textContent));Math.round(100*k)>parseInt(s[10].value)?ezt=e[1]+"|semmi":u>=parseInt(s[7].value)?(s[6].checked&&("rgb(213, 188, 244)"==r.cells[1].style.backgroundColor&&(l.spy.value=0),""!=r.cells[1].innerHTML&&(l.spy.value=0)),parseInt(l.spy.value,10)>0&&""==r.cells[1].innerHTML&&(E=!0),g-100>parseInt(r.cells[3].textContent,10)&&debug("Farmolo()","<b>ERROR: TOO MANY UNITS</b>"),l.attack.click(),ezt=e[1]):ezt=e[1]+"|semmi"}return[m,ezt,e[2],e[3],c,E,g]}catch(b){return debug("Illeszto()",b),FARM_LEPES=0,""}}function szem4_farmolo_3egyeztet(e){try{for(var t=document.getElementById("farm_honnan").rows,l=1;l<t.length;l++)if(t[l].cells[0].textContent==e[2]){t=t[l];break}for(var a=document.getElementById("farm_hova").rows,l=1;l<a.length;l++)if(a[l].cells[0].textContent==e[3]){a=a[l];break}try{if("error_box"==FARM_REF.document.getElementById("content_value").getElementsByTagName("div")[0].getAttribute("class"))return naplo("Farmol\xf3","Hiba "+e[3]+" farmol\xe1s\xe1n\xe1l: "+FARM_REF.document.getElementById("content_value").getElementsByTagName("div")[0].textContent+". Tov\xe1bb nem t\xe1madom"),a.cells[0].style.backgroundColor="red",FARM_LEPES=0,""}catch(n){}try{if(FARM_REF.document.getElementById("content_value").getElementsByTagName("table")[0].rows[2].cells[1].getElementsByTagName("a")[0].href.indexOf("info_player")>-1&&!a.cells[4].getElementsByTagName("input")[0].checked)return naplo("Farmol\xf3","J\xe1t\xe9kos "+maplink(e[3])+" helyen: "+FARM_REF.document.getElementById("content_value").getElementsByTagName("table")[0].rows[2].cells[1].innerHTML.replace("href",'target="_BLANK" href')+". Tov\xe1bb nem t\xe1madom"),a.cells[0].style.backgroundColor="red",FARM_LEPES=0,""}catch(r){}try{var s=FARM_REF.document.getElementById("content_value").getElementsByTagName("table")[0].rows;s=parseInt(s[s.length-1].cells[0].textContent.replace(/[^0-9]+/g,"")),e[6]!=s&&debug("farm3",'Val\xf3di teherb\xedr\xe1s nem egyezik a kisz\xe1molttal. Hiba, ha nincs teherb\xedr\xe1st m\xf3dos\xedt\xf3 "eszk\xf6z".')}catch(o){debug("farm3","Teherb\xedr\xe1s meg\xe1llap\xedt\xe1s hiba: "+o)}if(hatszam=parseInt(document.getElementById("farm_opts").rows[2].cells[1].getElementsByTagName("input")[3].value,10),-1==e[1].indexOf("semmi")||e[6]>2*hatszam){var i=document.getElementById("farm_opts").rows[2].cells[1].getElementsByTagName("input");if(e[5]&&(a.cells[1].style.backgroundColor="rgb(213, 188, 244)"),FARM_REF.document.getElementById("troop_confirm_submit").click(),a.cells[0].setAttribute("data-age",0),e[0]>parseInt(i[3].value)){var d=getServerTime(FARM_REF),g=distCalc(e[2].split("|"),e[3].split("|"));g=g*(1/c)*(1/m)*e[4],g=Math.round(g),d.setMinutes(d.getMinutes()+g),a.cells[5].innerHTML=d}}if(a.cells[3].innerHTML=e[0],"all"==e[1])var u=!0;else var u=!1;var p=!1;return e[0]>25&&(p=!0),[p,u,e[2],e[3]]}catch(h){debug("szem4_farmolo_3egyeztet()",h),FARM_LEPES=0}}function szem4_farmolo_4visszaell(e){try{for(var t=document.getElementById("farm_honnan").rows,l=1;l<t.length;l++)if(t[l].cells[0].textContent==e[2]){t=t[l];break}if("boolean"==typeof e[1])var a=e[1];else if(e[1].indexOf("all")>-1)var a=!0;else var a=!1;if(a){for(var n=!1,l=0;l<3;l++)if(t.cells[1].getElementsByTagName("input")[l].checked&&FARM_REF.document.getElementById("unit_input_"+UNITS[l])&&parseInt(FARM_REF.document.getElementById("unit_input_"+UNITS[l]).parentNode.children[2].textContent.match(/[0-9]+/g)[0])>5){n=!0;break}n||(a=!1)}for(var r=t.cells[1].getElementsByTagName("input"),s=22,l=0;l<r.length;l++)4!=l&&r[l].checked&&E_SEB[l]<s&&(s=E_SEB[l]);s=s*(1/c)*(1/m);var o=!0;a||(o=!1);var i=new Date;o?t.cells[2].style.backgroundColor="yellow":t.cells[2].style.backgroundColor="#f4e4bc",console.info(parseInt(document.getElementById("farm_opts").rows[2].cells[1].getElementsByTagName("input")[8].value,10)),i.setMinutes(i.getMinutes()+parseInt(document.getElementById("farm_opts").rows[2].cells[1].getElementsByTagName("input")[8].value,10)),t.cells[2].innerHTML=i}catch(d){debug("szem4_farmolo_4visszaell()",d)}}function szem4_farmolo_motor(){try{var e=500;if(e=parseInt(document.getElementById("farm_opts").rows[2].cells[1].getElementsByTagName("input")[9].value,10),BOT||FARM_PAUSE)e=5e3;else switch(FARM_HIBA>10&&(FARM_HIBA=0,++FARM_GHIBA>3&&(FARM_GHIBA>5&&(naplo("Glob\xe1l","Nincs internet? Folyamatos hiba farmol\xf3n\xe1l"),e=6e4,playSound("bot2")),FARM_REF.close()),FARM_LEPES=0),FARM_LEPES){case 0:if(PM1=szem4_farmolo_1kereso(),"zero"==PM1){e=1e4;break}if(""==PM1){e=6e4*parseInt(document.getElementById("farm_opts").rows[2].cells[1].getElementsByTagName("input")[8].value,10);break}(FARM_REF=window.open(d.replace(/village=[0-9]+/,"village="+koordTOid(PM1[2])).replace("screen=overview","screen=place"),s+"_Farmolo")).blur(),FARM_LEPES=1;break;case 1:isPageLoaded(FARM_REF,koordTOid(PM1[2]),"screen=place")?(FARM_HIBA=0,FARM_GHIBA=0,PM1=szem4_farmolo_2illeszto(PM1),console.info("PM1::",PM1),FARM_LEPES="object"==typeof PM1&&PM1.length>0?PM1[1].indexOf("semmi")>0?3:2:0):FARM_HIBA++;break;case 2:isPageLoaded(FARM_REF,koordTOid(PM1[2]),"try=confirm")?(FARM_HIBA=0,FARM_GHIBA=0,PM1=szem4_farmolo_3egyeztet(PM1),FARM_LEPES="object"==typeof PM1&&PM1.length>0&&!0==PM1[0]?3:0):FARM_HIBA++;break;case 3:isPageLoaded(FARM_REF,koordTOid(PM1[2]),"not try=confirm")?(FARM_HIBA=0,FARM_GHIBA=0,szem4_farmolo_4visszaell(PM1),FARM_LEPES=0):FARM_HIBA++;break;default:FARM_LEPES=0}}catch(t){debug("szem4_farmolo_motor()",t+" L\xe9p\xe9s:"+FARM_LEPES)}e=Math.round(e*(100/(40*Math.random()+80))),console.info("Heartbeat",e,FARM_LEPES),FARMOLO_TIMER=setTimeout(function(){szem4_farmolo_motor()},e)}var KTID=[],TERMELES=[5,30,35,41,47,55,64,74,86,100,117,136,158,184,214,249,289,337,391,455,530,616,717,833,969,1127,1311,1525,1774,2063,2400],UNITS=["spear","sword","axe","archer","spy","light","marcher","heavy"],TEHER=[25,15,10,10,0,80,50,50],TANYA=[1,1,1,1,2,4,5,6],E_SEB=[18,22,18,18,9,10,10,11],BOT=(!1).FARMOLO_TIMER;init(),ujkieg_hang("Alaphangok","naplobejegyzes;bot2"),ujkieg("farm","Farmol\xf3",'<tr><td>  <table class="vis" id="farm_opts" style="width:100%; margin-bottom: 50px;"><tr><th>Farmol\xf3 falu hozz\xe1ad\xe1sa</th><th>Farmoland\xf3 falu hozz\xe1ad\xe1sa</th></tr><tr><td style="width:48%;" onmouseover="sugo(\'Adj meg koordin\xe1t\xe1kat, melyek a te faluid \xe9s farmolni szeretn\xe9l vel\xfck. A koordin\xe1t\xe1k elv\xe1laszt\xe1sa b\xe1rmivel t\xf6rt\xe9nhet.\')">Koordin\xe1t\xe1k: <input type="text" size="45" placeholder="111|111, 222|222, ..."> <input type="button" value="Hozz\xe1ad" onclick="add_farmolo()"></td><td style="width:52%;" onmouseover="sugo(\'Adj meg koordin\xe1t\xe1kat, amelyek farmok, \xe9s farmolni szeretn\xe9d. A koordin\xe1t\xe1k elv\xe1laszt\xe1sa b\xe1rmivel t\xf6rt\xe9nhet.\')">Koordin\xe1t\xe1k:  <input type="text" size="45" placeholder="111|111, 222|222, ..."> <input type="button" value="Hozz\xe1ad" onclick="add_farmolando()"></td></tr><tr><td onmouseover="sugo(\'A felvivendő falukb\xf3l ezeket az egys\xe9geket haszn\xe1lhatja SZEM IV farmol\xe1s c\xe9lj\xe1b\xf3l. K\xe9sőbb m\xf3dos\xedthat\xf3.\')" style="vertical-align:middle;">Mivel? '+rovidit("egysegek")+'</td><td>Termel\xe9s/\xf3ra: <input onkeypress="validate(event)" type="text" size="5" value="3600" onmouseover="sugo(\'Ha nincs felder\xedtett b\xe1nyaszint, \xfagy veszi ennyi nyers termelődik\')"> Max t\xe1v: <input type="text" size="2" value="4" onkeypress="validate(event)" onmouseover="sugo(\'A max t\xe1vols\xe1g, amin t\xfal m\xe1r nem k\xfcld\xf6k t\xe1mad\xe1sokat\')">\xf3ra <input onkeypress="validate(event)" type="text" size="2" value="0" onmouseover="sugo(\'A max t\xe1vols\xe1g, amin t\xfal m\xe1r nem k\xfcld\xf6k t\xe1mad\xe1sokat\')">perc. Hat\xe1rsz\xe1m: <input type="text" onkeypress="validate(event)" onmouseover="sugo(\'Az \xfaj farmok ennyi nyersanyaggal lesznek felv\xedve. M\xe1sr\xe9sz, ez alatti nyersanyag\xe9rt m\xe9g nem indulok el.\')" value="3600" size="5"><br>K\xe9m/falu: <input onkeypress="validate(event)" type="text" value="1" size="2" onmouseover="sugo(\'Minden t\xe1mad\xe1ssal ennyi k\xe9m fog menni\')"> K\xe9nyszer\xedtett?<input type="checkbox" onmouseover="sugo(\'K\xe9mek n\xe9lk\xfcl nem ind\xedt t\xe1mad\xe1st. K\xe9meket annak ellen\xe9re is fog vinni, ha nincs bepip\xe1lva a k\xe9m egys\xe9g.\')">Kezdő feld.?<input type="checkbox" onmouseover="sugo(\'Minden falura maximum egyszer fog menni k\xe9m.\')">&nbsp;&nbsp;Min sereg/falu: <input onkeypress="validate(event)" type="text" value="100" size="4" onmouseover="sugo(\'Enn\xe9l kevesebb fő t\xe1mad\xe1sonk\xe9nt nem indul. A sz\xe1m tanyahely szerinti foglal\xe1sban \xe9rtendő.\')"><br>Sebess\xe9g: <input onkeypress="validate(event)" type="text" size="2" value="10" onmouseover="sugo(\'Ha a farmol\xf3 nem tal\xe1l t\xf6bb feladatot mag\xe1nak meg\xe1ll, ennyi időre. \xc9rt\xe9k lehet: 1-300. Javasolt \xe9rt\xe9k: 10-120 perc\')">perc/<input onkeypress="validate(event)" type="text" size="3" value="500" onmouseover="sugo(\'Egyes utas\xedt\xe1sok/lapbet\xf6ltőd\xe9sek ennyi idők\xf6z\xf6nk\xe9nt hajt\xf3dnak v\xe9gre. \xc9rt\xe9k lehet: 200-6000. Javasolt: 500ms, lassabb g\xe9pek eset\xe9n 1000-2000.\')">ms. Ha a rakt\xe1r &gt;<input type="text" size="2" onmouseover="sugo(\'Figyeli a rakt\xe1r tel\xedtetts\xe9g\xe9t, \xe9s ha a megadott % f\xf6l\xe9 emelkedik, nem ind\xedt t\xe1mad\xe1st onnan. Tel\xedtetts\xe9g \xf6ssznyersanyag alapj\xe1n sz\xe1molva. Min: 20. Ne n\xe9zze: 100-n\xe1l t\xf6bb \xe9rt\xe9k megad\xe1sa eset\xe9n.\')" value="90">%, nem foszt.</td></tr></table>  <table class="vis" id="farm_honnan" style="vertical-align:top; display: inline-block; width:550px"><tr><th width="55px" onmouseover="sugo(\'Ezen falukb\xf3l farmolsz. Dupla klikk az \xe9rintett sor koordin\xe1t\xe1j\xe1ra=sor t\xf6rl\xe9se.<br>Rendezhető\')" style="cursor: pointer;" onclick=\'rendez("szoveg",false,this,"farm_honnan",0)\'>Honnan</th><th onmouseover="sugo(\'Ezen egys\xe9geket haszn\xe1l fel SZEM a farmol\xe1shoz. B\xe1rmikor m\xf3dos\xedthat\xf3.\')">Mivel?</th><th onmouseover="sugo(\'Ekkor \xe9r vissza sereg a sz\xe1m\xedt\xe1saim szerint. Dupla klikk=t\xf6rl\xe9s=m\xe1r meg\xe9rkezett/n\xe9zd \xfajra.<br>Rendezhető.<br><br>Pipa: egy cell\xe1n v\xe9grehajtott (duplaklikkes) művelet minden l\xe1that\xf3 falura \xe9rv\xe9nyes lesz.\')" onclick=\'rendez("datum",false,this,"farm_honnan",2)\' style="cursor: pointer; vertical-align:middle;">Return <span style="margin-left: 45px; margin-right: 0px;"><img src="'+pic("search.png")+'" alt="?" title="Szűr\xe9s falukra..." style="width:15px;height:15px;" onclick="szem4_farmolo_csoport(\'honnan\')"><input type="checkbox" id="farm_multi_honnan" onmouseover="sugo(\'Ha bepip\xe1lod, akkor egy cell\xe1n v\xe9gzett dupla klikkes művelet minden sorra \xe9rv\xe9nyes lesz az adott oszlopba (teh\xe1t minden falura), ami jelenleg l\xe1tszik. L\xe9gy \xf3vatos!\')"></span></th></tr></table> <table class="vis" id="farm_hova" style="vertical-align:top; display: inline-block;"><tr><th onmouseover="sugo(\'Ezen falukat farmolod. A h\xe1tt\xe9rsz\xedn jel\xf6li a jelent\xe9s sz\xedn\xe9t: alap\xe9rtelmezett=z\xf6ld jelik/nincs felder\xedtve. S\xe1rga=vesztes\xe9g volt a falun. Piros: a t\xe1mad\xe1s bes\xfclt, nem megy r\xe1 t\xf6bb t\xe1mad\xe1s.<br>Dupla klikk a koordira: a h\xe1tt\xe9rsz\xedn alap\xe9rtelmezettre \xe1ll\xedt\xe1sa.<br>Rendezhető\')" style="cursor: pointer;" onclick=\'rendez("szoveg",false,this,"farm_hova",0)\'>Hova</th><th onmouseover="sugo(\'Felder\xedtett b\xe1nyaszintek, ha van. K\xe9k h\xe1tt\xe9r: megy r\xe1 k\xe9mt\xe1mad\xe1s.<br>Dupla klikk=az \xe9rintett sor t\xf6rl\xe9se\')">B\xe1ny\xe1k</th><th onmouseover="sugo(\'Fal szintje. Dupla klikk=h\xe1tt\xe9r csere (csak megjel\xf6l\xe9sk\xe9nt). <br>Rendezhető.\')" onclick=\'rendez("szam",false,this,"farm_hova",2)\' style="cursor: pointer;">Fal</th><th onmouseover="sugo(\'Sz\xe1m\xedt\xe1sok szerint ennyi nyers van az \xe9rintett faluba. Dupla klikk=\xe9rt\xe9k m\xf3dos\xedt\xe1sa.<br>Rendezhető.\')" onclick=\'rendez("szam",false,this,"farm_hova",3)\' style="cursor: pointer;">Nyers</th><th onmouseover="sugo(\'J\xe1t\xe9kos e? Ha j\xe1t\xe9kost szeretn\xe9l t\xe1madni, pip\xe1ld be a falut mint j\xe1t\xe9kos uralta, \xedgy t\xe1madni fogja. Ellenben piros h\xe1tteret kap a falu.\')">J?</th><th onmouseover="sugo(\'A falura ekkor \xe9r be az utols\xf3 nagyerejű t\xe1mad\xe1s. Inform\xe1ci\xf3 a jelent\xe9s elemzőnek. Dupla klikk=idő t\xf6rl\xe9se.<br>Rendezhető.<br><br>Pipa: egy cell\xe1n v\xe9grehajtott (duplaklikkes) művelet minden l\xe1that\xf3 falura \xe9rv\xe9nyes lesz.\')" onclick=\'rendez("datum",false,this,"farm_hova",5)\' style="cursor: pointer; vertical-align:middle;">Ut.T<span style="margin-left: 65px; margin-right: 0px;"><img src="'+pic("search.png")+'" alt="?" title="Szűr\xe9s falukra..." style="width:15px;height:15px;" onclick="szem4_farmolo_csoport(\'hova\')"><input type="checkbox" id="farm_multi_hova"></span></th></tr></table></p> </td></tr>'),szem4_farmolo_updater();var FARM_REF,PM1,FARM_LEPES=0,FARM_HIBA=0,FARM_GHIBA=0,FARM_PAUSE=!1;function VIJE_FarmElem(t){try{for(var l=document.getElementById("farm_hova").rows,a=!1,n=1;n<l.length;n++)if(l[n].cells[0].textContent==t){a=!0,l=l[n];break}if(!a)return[!1,!1,0];var r=!0;if(""==l.cells[1].textContent&&(r=!1),""!=l.cells[5].textContent)var s=new Date(l.cells[5].textContent);else var s=getServerTime(e);return s.setMinutes(s.getMinutes()-1),[a,r,s]}catch(o){debug("VIJE1_farmelem","Hiba: "+o)}}function VIJE_elemzett(e){try{var t=document.getElementById("VIJE_elemzett").textContent;if(""==t)return!1;t=t.split(",");for(var l=0;l<t.length;l++)if(t[l]==e)return!0;return t.length>130&&(document.getElementById("VIJE_elemzett").innerHTML=t.slice(t.length-100,t.length)),!1}catch(a){debug("VIJE1_farmelem","Hiba: "+a)}}function szem4_VIJE_1kivalaszt(){try{try{TamadUpdt(e)}catch(t){}if((VT=e.document.getElementById("report_list").rows).length<3)return[0,0,"",!1];for(var l=!1,a=VT.length-2;a>0;a--){try{var n=VT[a].cells[1].textContent.match(/[0-9]+(\|)[0-9]+/g);n=n[n.length-1]}catch(r){continue}var s=VT[a].cells[1].getElementsByTagName("span")[0].getAttribute("data-id").replace("label_","");if(!VIJE_elemzett(s)){for(var o=VT[a].cells[1].childNodes,i=0;i<o.length;i++)if("IMG"==o[i].nodeName){o=(o=o[i].src.split(".png")[0].split("/"))[o.length-1];break}var c=VIJE_FarmElem(n);if(!1!=c[0]){var m=getServerTime(e),d=getServerTime(e);if(!(c[2]>m)){if(!function e(){var t=VT[a].cells[2].textContent,l=t.match(/[0-9]+:[0-9]+/g)[0],n=t.replace(l,"").match(/[0-9]+/g)[0];m.setMinutes(parseInt(l.split(":")[1],10)),m.setHours(parseInt(l.split(":")[0],10)),m.setDate(parseInt(n,10))}(),d-m>108e5||d-m<0)var g=!0;else var g=!1;if(!1==c[1]||!g&&!0==c[1]){l=!0;break}}}}}if(!l){for(var a=VT.length-2;a>0;a--)if(VT[a].cells[0].getElementsByTagName("input")[0].checked)return[0,0,"",!0];return[0,0,"",!1]}return"green"==o&&(VT[a].cells[0].getElementsByTagName("input")[0].checked=!0),[s,n,o,!1,g]}catch(u){return debug("VIJE1","Hiba: "+u),[0,0,"",!1]}}function VIJE_adatbeir(e,t,l,a,n){try{for(var r=document.getElementById("farm_hova").rows,s=1;s<r.length;s++)if(r[s].cells[0].textContent==e){r=r[s];break}r.cells[0].setAttribute("data-age",0),""!==l&&(r.cells[1].innerHTML=l,r.cells[1].backgroundColor="#f4e4bc",""==a&&(a=0)),""!==a&&(parseInt(r.cells[2].innerHTML)>parseInt(a)&&r.cells[2].backgroundColor,r.cells[2].innerHTML=a),""!==t&&(r.cells[3].innerHTML=t,t>3*parseInt(document.getElementById("farm_opts").rows[2].cells[1].getElementsByTagName("input")[3].value,10)&&debug("VIJE_adatbe\xedr","Sok nyers van itt, lehet hiba? "+e+" falun\xe1l")),"green"===n?r.cells[0].style.backgroundColor="#f4e4bc":"yellow"===n?r.cells[0].style.backgroundColor="yellow":"blue"===n||(r.cells[0].style.backgroundColor="red",naplo("Jelent\xe9s Elemző",e+" farm vesz\xe9lyesnek \xedt\xe9lve. Jelent\xe9s\xe9nek sz\xedne "+n+".")),""!=r.cells[5].innerHTML&&(r.cells[5].innerHTML="");return}catch(o){debug("VIJE_adatbeir","Hiba: "+o)}}function szem4_VIJE_2elemzes(e){try{var l=0;if(t.document.getElementById("attack_spy_resources")){var a=t.document.getElementById("attack_spy_resources").rows[0].cells[1];if(e[4]){var l="";debug("VIJE2","Nem kell elemezni (r\xe9gi)")}else try{if(/\d/.test(a.textContent)){var n=a.textContent.replace(/\./g,"").match(/[0-9]+/g);if(3!=n.length)throw"LENGTH_NOT_3";if(-1===a.innerHTML.indexOf("iron"))throw"IRON_NOT_FOUND";for(var l=0,r=0;r<n.length;r++)l+=parseInt(n[r],10)}else l=0}catch(s){var l=0;debug("VIJE","<a href='"+t.document.location+"' target='_BLANK'>"+e[0]+"</a> ID-jű jelent\xe9s nem szokv\xe1nyos, tal\xe1lt nyers 0-ra \xe1ll\xedtva. Hiba: "+s)}if(t.document.getElementById("attack_spy_buildings_left")){for(var o=document.getElementById("vije").getElementsByTagName("input"),i=[o[0].value.toUpperCase(),o[1].value.toUpperCase(),o[2].value.toUpperCase(),o[3].value.toUpperCase()],c=[0,0,0],m=0,o=t.document.getElementById("attack_spy_buildings_left").rows,r=1;r<o.length;r++){for(var d=0;d<3;d++)o[r].cells[0].textContent.toUpperCase().indexOf(i[d])>-1&&(c[d]=o[r].cells[1].textContent);o[r].cells[0].textContent.toUpperCase().indexOf(i[3])>-1&&(m=o[r].cells[1].textContent)}for(var o=t.document.getElementById("attack_spy_buildings_right").rows,r=1;r<o.length;r++){for(var d=0;d<3;d++)o[r].cells[0].textContent.toUpperCase().indexOf(i[d])>-1&&(c[d]=o[r].cells[1].textContent);o[r].cells[0].textContent.toUpperCase().indexOf(i[3])>-1&&(m=o[r].cells[1].textContent)}}else var c="",m="";VIJE_adatbeir(e[1],l,c,m,e[2])}else VIJE_adatbeir(e[1],0,"","",e[2]);return document.getElementById("VIJE_elemzett").innerHTML+=e[0]+",",document.getElementById("VIJE_elemzett").innerHTML.split(",").length>200&&(document.getElementById("VIJE_elemzett").innerHTML=document.getElementById("VIJE_elemzett").innerHTML.split(",").splice(100,100)+","),!0}catch(g){return debug("VIJE2","Elemezhetetlen jelent\xe9s: "+e[0]+":"+e[1]+". Hiba: "+g),VIJE_adatbeir(e[1],l,"","",e[2]),!1}}function szem4_VIJE_3torol(){try{if(document.getElementById("vije").getElementsByTagName("input")[4].checked)try{e.document.forms[0].del.click()}catch(t){e.document.getElementsByName("del")[0].click()}}catch(l){debug("VIJE3","Hiba: "+l);return}}function szem4_VIJE_motor(){try{var a=1500;if(BOT||VIJE_PAUSE)a=5e3;else switch(VIJE_HIBA>10&&(VIJE_HIBA=0,++VIJE_GHIBA>3&&(VIJE_GHIBA>5&&(naplo("Glob\xe1l","Nincs internet? Folyamatos hiba a jelent\xe9s elemzőn\xe9l"),a=6e4,playSound("bot2")),debug("szem4_VIJE_motor","Jelent\xe9s elemzo hiba >3, ablak bez\xe1r/\xfajranyit"),e.close()),VIJE_LEPES=0),VIJE2_HIBA>10&&(VIJE2_HIBA=0,++VIJE2_GHIBA>3&&(VIJE2_GHIBA>5&&naplo("Glob\xe1l","Nincs internet? Folyamatos hiba a jelent\xe9s elemzőn\xe9l"),t.close()),VIJE_LEPES=0),(!e||0!=VIJE_LEPES&&e.closed)&&(VIJE_LEPES=0),VIJE_LEPES){case 0:if(document.getElementById("farm_hova").rows.length>1){var n="";game_data.player.premium&&(n="group_id=-1&"),(e=window.open(d.replace("screen=overview","mode=attack&"+n+"screen=report"),s+"_SZEM4VIJE_1")).blur(),VIJE_LEPES=1}else a=1e4;break;case 1:isPageLoaded(e,-1,"screen=report")?(VIJE_HIBA=0,VIJE_GHIBA=0,l=szem4_VIJE_1kivalaszt(),0===l[0]?l[3]?VIJE_LEPES=3:(VIJE_LEPES=0,a=12e4):((t=window.open(d.replace("screen=overview","mode=attack&view="+l[0]+"&screen=report"),s+"_SZEM4VIJE_2")).blur(),VIJE_LEPES=2)):VIJE_HIBA++;break;case 2:isPageLoaded(t,-1,l[0])?(VIJE2_HIBA=0,VIJE2_GHIBA=0,szem4_VIJE_2elemzes(l),VIJE_LEPES=l[3]?3:1):VIJE2_HIBA++;break;case 3:szem4_VIJE_3torol(),VIJE_LEPES=0;break;default:VIJE_LEPES=0}}catch(r){debug("szem4_VIJE_motor()","ERROR: "+r+" L\xe9p\xe9s:"+VIJE_LEPES)}setTimeout("szem4_VIJE_motor()",a=Math.round(a*(100/(40*Math.random()+80))))}szem4_farmolo_motor(),ujkieg("vije","Jelent\xe9s Elemző",'<tr><td>A VIJE a Farmol\xf3 t\xe1bl\xe1zat\xe1ba dolgozik, itt csup\xe1n műk\xf6d\xe9si be\xe1ll\xedt\xe1sokat m\xf3dos\xedthatsz.<br><br><br>"Fatelep" a szerver jelenlegi nyelv\xe9n: <input type="text" size="15"  value="Fatelep"><br>"Agyagb\xe1nya" a szerver jelenlegi nyelv\xe9n: <input type="text" size="15"  value="Agyagb\xe1nya"><br>"Vasb\xe1nya" a szerver jelenlegi nyelv\xe9n: <input type="text" size="15" value="Vasb\xe1nya"><br>"Fal" a szerver jelenlegi nyelv\xe9n: <input type="text" size="15" value="Fal"><br><input type="checkbox"> Z\xf6ld farmjelent\xe9sek t\xf6rl\xe9se<br><br><br><i>Elemzett jelent\xe9sek:</i><div id="VIJE_elemzett" style="font-size:30%;width:980px;word-wrap: break-word;"></div></td></tr>');var VIJE_PAUSE=!1,VIJE_LEPES=0,VIJE_HIBA=0,VIJE_GHIBA=0,VIJE2_HIBA=0,VIJE2_GHIBA=0;function TamadUpdt(e){try{var t=document.getElementById("idtamad_Bejovok"),l=new Date,a=parseInt(e.game_data.player.incomings,10),n=0;if(t.rows.length>1&&(n=parseInt(t.rows[1].cells[1].innerHTML,10)),a==n)return;var r=t.insertRow(1),s=r.insertCell(0),o=r.insertCell(1);s.innerHTML=l,o.innerHTML=a,a>n&&playSound("bejovo");return}catch(i){debug("ID beir","Hiba: "+i)}}function szem4_EPITO_perccsokkento(){try{for(var e=document.getElementById("epit").getElementsByTagName("table")[1].rows,t=/[0-9]+( perc)/g,l=0,a=1;a<e.length;a++)if(e[a].cells[3].textContent.search(t)>-1){if(l=e[a].cells[3].textContent.match(/[0-9]+/g)[0],"0"==l)continue;l=parseInt(l,10),--l>0&&(l+="",1==l.length&&(l="000"+l),2==l.length&&(l="00"+l),3==l.length&&(l="0"+l)),e[a].cells[3].innerHTML=e[a].cells[3].innerHTML.replace(/[0-9]+/,l)}}catch(n){debug("\xc9p\xedtő_pcs\xf6kk",n)}setTimeout("szem4_EPITO_perccsokkento()",6e4)}function szem4_EPITO_getlista(){try{for(var e="<select>",t=document.getElementById("epit").getElementsByTagName("table")[0].rows,l=1;l<t.length;l++)e+='<option value="'+t[l].cells[0].textContent+'">'+t[l].cells[0].textContent+"</option> ";return e+="</select>"}catch(a){debug("\xc9p\xedtő",a)}}function szem4_EPITO_csopDelete(e){try{var t=e.innerHTML;if(!confirm("Biztos kit\xf6rl\xf6d a "+t+" nevű csoportot?\nA csoportot haszn\xe1l\xf3 faluk az Alap\xe9rtelmezett csoportba fognak tartozni."))return;sortorol(e,"");for(var l=document.getElementById("epit_lista").rows,a=1;a<l.length;a++){var n=l[a].cells[1].getElementsByTagName("select")[0];n.value==t&&(n.value=document.getElementById("epit").getElementsByTagName("table")[0].rows[1].cells[0].innerHTML)}l=document.getElementById("epit_ujfalu_adat").getElementsByTagName("option");for(var a=0;a<l.length;a++)if(l[a].value==t){document.getElementById("epit_ujfalu_adat").getElementsByTagName("select")[0].remove(a);break}}catch(r){alert2("Hiba:\n"+r)}}function szem4_EPITO_ujFalu(){try{var e=document.getElementById("epit_ujfalu_adat"),t=e.getElementsByTagName("input")[0].value;if(""==t||null==t)return;t=t.match(/[0-9]{1,3}(\|)[0-9]{1,3}/g);for(var l=document.getElementById("epit_lista"),a="",n=szem4_EPITO_getlista(),r=0;r<t.length;r++){for(var s=!1,o=1;o<l.rows.length;o++)l.rows[o].cells[0].textContent==t[r]&&(s=!0);if(s){a+="DUP:"+t[r]+", ";continue}if(0==koordTOid(t[r])){a+="NL: "+t[r]+", ";continue}var i=l.insertRow(-1),c=i.insertCell(0);c.innerHTML=t[r],c.setAttribute("ondblclick","sortorol(this)"),(c=i.insertCell(1)).innerHTML=n,c.getElementsByTagName("select")[0].value=e.getElementsByTagName("select")[0].value,(c=i.insertCell(2)).style.fontSize="x-small";var m=new Date;c.innerHTML=m,c.setAttribute("ondblclick","szem4_EPITO_most(this)"),(c=i.insertCell(3)).innerHTML='<i>Feldolgoz\xe1s alatt...</i> <a href="'+d.replace(/(village=)[0-9]+/g,"village="+koordTOid(t[r]))+'" target="_BLANK"><img alt="Nyit" title="Falu megnyit\xe1sa" src="'+pic("link.png")+'"></a>',c.setAttribute("ondblclick","szem4_EPITO_infoCell(this.parentNode,'alap',\"\")")}""!=a&&alert2("Dupla megad\xe1sok/nem l\xe9tező faluk kiszűrve: "+a),e.getElementsByTagName("input")[0].value="";return}catch(g){alert2("\xdaj falu(k) felv\xe9telekori hiba:\n"+g)}}function szem4_EPITO_ujCsop(){try{var e=document.getElementById("epit_ujcsopnev").value.replace(/[;\._]/g,"").replace(/( )+/g," ");if(""==e||null==e)return;for(var t=document.getElementById("epit").getElementsByTagName("table")[0],l=1;l<t.rows.length;l++)if(t.rows[l].cells[0].textContent==e)throw"M\xe1r l\xe9tezik ilyen nevű csoport";var a=t.insertRow(-1),n=a.insertCell(0);n.innerHTML=e,n.setAttribute("ondblclick","szem4_EPITO_csopDelete(this)"),(n=a.insertCell(1)).innerHTML=t.rows[1].cells[1].innerHTML,n.getElementsByTagName("input")[0].disabled=!1;for(var t=document.getElementById("epit_lista").rows,l=1;l<t.length;l++){var r=t[l].cells[1].getElementsByTagName("select")[0],s=document.createElement("option");s.text=e,r.add(s)}r=document.getElementById("epit_ujfalu_adat").getElementsByTagName("select")[0],(s=document.createElement("option")).text=e,r.add(s),document.getElementById("epit_ujcsopnev").value="";return}catch(o){alert2("\xdaj csoport felv\xe9telekori hiba:\n"+o)}}function szem4_EPITO_cscheck(e){try{var t=e.parentNode.getElementsByTagName("input")[0].value;t=t.split(";");for(var l=["main","barracks","stable","garage","church_f","church","smith","snob","place","statue","market","wood","stone","iron","farm","storage","hide","wall","MINES"],a=0;a<t.length;a++){if(l.indexOf(t[a].match(/[a-zA-Z]+/g)[0])>-1);else throw"Nincs ilyen \xe9p\xfclet: "+t[a].match(/[a-zA-Z]+/g)[0];if(parseInt(t[a].match(/[0-9]+/g)[0])>30)throw"T\xfal magas \xe9p\xfcletszint: "+t[a]}alert2("Minden OK")}catch(n){alert2("Hib\xe1s lista:\n"+n)}}function szem4_EPITO_most(e){try{var t=new Date;e.innerHTML=t;return}catch(l){alert2("Hiba l\xe9pett fel:\n"+l)}}function szem4_EPITO_csopToList(e){try{for(var t=document.getElementById("epit").getElementsByTagName("table")[0].rows,l=1;l<t.length;l++)if(t[l].cells[0].textContent==e)return t[l].cells[1].getElementsByTagName("input")[0].value;return";"}catch(a){debug("epito_csopToList",a)}}function szem4_EPITO_Wopen(){try{for(var e=document.getElementById("epit_lista").rows,t=new Date,l=1;l<e.length;l++)if(new Date(e[l].cells[2].textContent)<t){var a=szem4_EPITO_csopToList(e[l].cells[1].getElementsByTagName("select")[0].value);return[koordTOid(e[l].cells[0].textContent),a,e[l]]}return[0,";"]}catch(n){debug("Epito_Wopen",n)}}function szem4_EPITO_addIdo(e,t){try{if("del"==t)document.getElementById("epit_lista").deleteRow(e.rowIndex);else{var l=new Date;l.setMinutes(l.getMinutes()+Math.round(t)),e.cells[2].innerHTML=l}return!0}catch(a){return debug("epito_addIdo",a),!1}}function szem4_EPITO_infoCell(e,t,l){try{"alap"==t&&(t="#f4e4bc"),"blue"==t&&(t="#44F"),"red"==t&&setTimeout('playSound("kritikus_hiba")',2e3),e.cells[3].style.backgroundColor=t,e.cells[3].innerHTML=l+' <a href="'+d.replace(/(village=)[0-9]+/g,"village="+koordTOid(e.cells[0].textContent))+'" target="_BLANK"><img alt="Nyit" title="Falu megnyit\xe1sa" src="'+pic("link.png")+'"></a>';return}catch(a){debug("\xe9p\xedtő_infoCell",a)}}function szem4_EPITO_getBuildLink(e,t){var l=e.document.getElementById("main_buildrow_"+t);if(l.cells.length<3)return!1;for(var a=RegExp("main_buildlink_"+t+"_[0-9]+","g"),n=l.getElementsByTagName("*"),r=0;r<n.length;r++)if(a.test(n[r].id))return n[r]}function szem4_EPITO_IntettiBuild(e){try{try{TamadUpdt(a)}catch(t){}try{for(var l,r,s=a.document.getElementById("buildqueue").rows,o="",i=0,c=0,m=1;m<s.length;m++)try{o+=s[m].cells[0].getElementsByTagName("img")[0].src.match(/[A-Za-z0-9]+\.(png)/g)[0].replace(/[0-9]+/g,"").replace(".png",""),r=s[m].cells[1].textContent.split(":"),i+=60*parseInt(r[0])+parseInt(r[1])+parseInt(r[2])/60,0==c&&(c=i),o+=";"}catch(g){}i=Math.round(i),i+="","0"!=i&&(1==i.length&&(i="000"+i),2==i.length&&(i="00"+i),3==i.length&&(i="0"+i)),(c=c.toFixed(2)+1)>180&&(c=180)}catch(u){var o=";",i=0,c=0}if(o.split(";").length>4)return szem4_EPITO_addIdo(n[2],100),"overflow";var p=a.game_data.village.buildings,h=e.split(";"),y=[],f=[],m=-2,v=o.split(";");for(var E in p)if(m++,-1!=m){y[m]=p[E],f[m]=E;for(var k=0;k<v.length;k++)f[m]==v[k]&&(y[m]++,v[k]="")}var b="",_="",z=[0,0,0];for(m=0;m<h.length;m++){_=h[m].split(" ")[0];for(var I=0;I<f.length;I++)if(f[I]==_){for(var T=0;T<parseInt(h[m].split(" ")[1])-y[I];T++)b+=_+";";parseInt(h[m].split(" ")[1])-y[I]>0&&(y[I]=parseInt(h[m].split(" ")[1]))}if("MINES"==_){for(var I=0;I<f.length;I++)"wood"==f[I]&&(z[0]=I),"stone"==f[I]&&(z[1]=I),"iron"==f[I]&&(z[2]=I);for(var I=0;I<=parseInt(h[m].split(" ")[1]);I++)for(var T=0;T<3;T++)y[z[T]]<I&&(b+=T+";",y[z[T]]++);b=(b=(b=b.replace(/0/g,"wood")).replace(/1/g,"stone")).replace(/2/g,"iron")}if(""!=b){b.indexOf(";")>-1&&(b=b.split(";")[0]);break}}if(b.length<4){naplo("\xc9p\xedtő",'<a href="'+d.replace(/(village=)[0-9]+/g,"village="+n[0])+'" target="_BLANK">'+a.game_data.village.name+" ("+a.game_data.village.x+"|"+a.game_data.village.y+")</a> falu teljesen fel\xe9p\xfclt \xe9s t\xf6rlőd\xf6tt a list\xe1b\xf3l"),setTimeout('playSound("falu_kesz")',1500),szem4_EPITO_addIdo(n[2],"del");return}var B=b;if(l=szem4_EPITO_getBuildLink(a,B)){if("none"!==l.style.display)l.click(),playSound("epites"),szem4_EPITO_addIdo(n[2],1),szem4_EPITO_infoCell(n[2],"alap","\xc9p\xedt\xe9s folyamatban.");else{var A=[parseInt(a.document.getElementById("storage").textContent),parseInt(a.document.getElementById("pop_max_label").textContent)-parseInt(a.document.getElementById("pop_current_label").textContent)];l=l.parentNode.parentNode.cells;var w=[parseInt(l[1].textContent),parseInt(l[2].textContent),parseInt(l[3].textContent),parseInt(l[5].textContent)],x="";if(w[0]>A[0]||w[1]>A[0]||w[2]>A[0]?x="storage":w[3]>A[1]&&(x="farm"),""==x){w[0]>a.game_data.village.wood||w[1]>a.game_data.village.stone||w[2]>a.game_data.village.iron?szem4_EPITO_infoCell(n[2],"yellow","Nyersanyag hi\xe1ny l\xe9pett fel. \xc9p\xedt\xe9s m\xe9g "+i+" percig."):o.split(";")[1].length>2?szem4_EPITO_infoCell(n[2],"alap","\xc9p\xedt\xe9si sor megtelt. \xc9p\xedt\xe9s m\xe9g "+i+" percig."):szem4_EPITO_infoCell(n[2],"blue","Ismeretlen ok miatti \xe1ll\xe1s. \xc9p\xedt\xe9s m\xe9g "+i+" percig."),c>0?szem4_EPITO_addIdo(n[2],c):szem4_EPITO_addIdo(n[2],30);return}if(x==B)c>0?szem4_EPITO_addIdo(n[2],c):szem4_EPITO_addIdo(n[2],60);else if("farm"==x&&parseInt(a.game_data.village.buildings.farm)>=30){szem4_EPITO_addIdo(n[2],180),szem4_EPITO_infoCell(n[2],"blue","A tanya maxon, \xe9s megtelt.");for(var m=0;m<e;m++)if("storage"==e.split(" ")[0]&&parseInt(e.split(" ")[1],10)>a.game_data.village.buildings.storage)try{szem4_EPITO_getBuildLink(a,"storage").click(),szem4_EPITO_addIdo(n[2],60)}catch(M){}}else a.$("#main_buildlink_"+x).is(":visible")?szem4_EPITO_getBuildLink(a,x).click():(""!=o.split(";")[1]?szem4_EPITO_infoCell(n[2],"alap","Tany\xe1t vagy rakt\xe1rat k\xe9ne h\xfazni, de teli van a sor most. \xc9p\xedt\xe9s m\xe9g "+i+" percig."):szem4_EPITO_infoCell(n[2],"yellow","Nyersanyag hi\xe1ny!? Tany\xe1t vagy rakt\xe1rat k\xe9ne h\xfazni, de nem tudom betenni. \xc9p\xedt\xe9s m\xe9g "+i+" percig."),c>0?szem4_EPITO_addIdo(n[2],c):szem4_EPITO_addIdo(n[2],60))}}else{m=-2;var N=!1;for(var E in p)if(m++,-1!=m&&E==B){N=!0;break}if(!N)throw szem4_EPITO_infoCell(n[2],"red","Nem l\xe9tező \xe9p\xfcletet ("+B+") akarsz \xe9p\xedteni."),szem4_EPITO_addIdo(n[2],60),naplo("\xc9p\xedtő",'A(z) "'+n[2].cells[1].getElementsByTagName("select")[0].value+'" nevű \xe9p\xedt\xe9si lista nem l\xe9tező \xe9p\xfcletet tartalmaz!'),"Nem l\xe9tező \xe9p\xfclet: "+B;if(!(c>0))throw szem4_EPITO_infoCell(n[2],"red","A soron k\xf6vetkező \xe9p\xfclethez ("+B+") m\xe1s \xe9p\xfcletek sz\xfcks\xe9geltetnek."),szem4_EPITO_addIdo(n[2],60),naplo("\xc9p\xedtő",'Előfelt\xe9teleknek nem megfelelő \xe9p\xedt\xe9si list\xe1t tartalmaz a(z) "'+n[2].cells[1].getElementsByTagName("select")[0].value+'" \xe9p\xedt\xe9si lista!'),"Rossz \xe9p\xedt\xe9si lista";szem4_EPITO_infoCell(n[2],"alap","Jelenleg előfelt\xe9tel \xe9p\xfcl."),c>0?szem4_EPITO_addIdo(n[2],c):(debug("\xc9p\xedtő","Anom\xe1lia: H4f"),szem4_EPITO_addIdo(n[2],60))}return}catch(C){debug("epit_IntelliB",C)}}function szem4_EPITO_motor(){try{var e=2e3;if(BOT||EPIT_PAUSE)e=5e3;else switch(EPIT_HIBA>10&&(EPIT_HIBA=0,++EPIT_GHIBA>3&&(EPIT_GHIBA>5&&(naplo("Glob\xe1l","Nincs internet? Folyamatos hiba az \xe9p\xedtőn\xe9l"),e=6e4,playSound("bot2")),a.close()),EPIT_LEPES=0),EPIT_LEPES){case 0:(n=szem4_EPITO_Wopen())[0]>0?(a=window.open(d.replace("screen=overview","screen=main").replace(/village=[0-9]+/,"village="+n[0]),s+"_SZEM4EPIT"),EPIT_LEPES=1):e=1==document.getElementById("epit_lista").rows.length?5e3:1e5;break;case 1:isPageLoaded(a,n[0],"screen=main")?(EPIT_HIBA=0,EPIT_GHIBA=0,szem4_EPITO_IntettiBuild(n[1])):EPIT_HIBA++,EPIT_LEPES=0;break;default:EPIT_LEPES=0}}catch(t){debug("Epito motor",t),EPIT_LEPES=0}setTimeout("szem4_EPITO_motor()",e=Math.round(e*(100/(40*Math.random()+80))))}szem4_VIJE_motor(),ujkieg_hang("Bej\xf6vő t\xe1mad\xe1sok","bejovo"),ujkieg("idtamad","Bej\xf6vő t\xe1mad\xe1sok",'<tr><td align="center" ><table class="vis" id="idtamad_Bejovok" style="vertical-align:top; display: inline-block;"><tr><th>Időpont</th><th>T\xe1mad\xe1sok sz\xe1ma</th></tr></table> </td></tr>'),ujkieg_hang("\xc9p\xedtő","epites;falu_kesz;kritikus_hiba"),ujkieg("epit","\xc9p\xedtő",'<tr><td><h2 align="center">\xc9p\xedt\xe9si list\xe1k</h2><table align="center" class="vis" style="border:1px solid black;color: black;"><tr><th onmouseover=\'sugo("\xc9p\xedt\xe9si lista neve, amire k\xe9sőbb hivatkozhatunk")\'>Csoport neve</th><th onmouseover=\'sugo("Az \xe9p\xedt\xe9si sorrend megad\xe1sa. Saj\xe1t lista eset\xe9n ellenőrizz\xfck az OK? linkre kattintva annak helyess\xe9g\xe9t!")\' style="width:800px">\xc9p\xedt\xe9si lista</th></tr><tr><td>Alap\xe9rtelmezett</td><td><input type="text" disabled="disabled" value="main 10;storage 10;wall 10;main 15;wall 15;storage 15;farm 10;main 20;wall 20;MINES 10;smith 5;barracks 5;stable 5;main 15;storage 20;farm 20;market 10;main 22;smith 12;farm 25;storage 28;farm 26;MINES 24;market 19;barracks 15;stable 10;garage 5;MINES 26;farm 28;storage 30;barracks 20;stable 15;farm 30;barracks 25;stable 20;MINES 30;smith 20;snob 1" size="125"><a onclick="szem4_EPITO_cscheck(this)" style="color:blue; cursor:pointer;"> OK?</a></td></tr></table><p align="center">Csoportn\xe9v: <input type="text" value="" size="30" id="epit_ujcsopnev" placeholder="Nem tartalmazhat . _ ; karaktereket"> <a href="javascript: szem4_EPITO_ujCsop()" style="color:white;text-decoration:none;"><img src="'+pic("plus.png")+' " height="17px"> \xdaj csoport</a></p></td></tr><tr><td><h2 align="center">\xc9p\xedtendő faluk</h2><table align="center" class="vis" style="border:1px solid black;color: black;width:900px" id="epit_lista"><tr><th style="width: 75px; cursor: pointer;" onclick=\'rendez("szoveg",false,this,"epit_lista",0)\' onmouseover=\'sugo("Rendezhető. Itt \xe9p\xedtek. Dupla klikk a falura = sor t\xf6rl\xe9se")\'>Falu koord.</th><th onclick=\'rendez("lista",false,this,"epit_lista",1)\' onmouseover=\'sugo("Rendezhető. Felső t\xe1bl\xe1zatban haszn\xe1lt lista k\xf6z\xfcl v\xe1laszthatsz egyet, melyet k\xe9sőbb b\xe1rmikor megv\xe1ltoztathatsz.")\' style="width: 135px; cursor: pointer">Haszn\xe1lt lista</th><th style="width: 220px; cursor: pointer;" onclick=\'rendez("datum",false,this,"epit_lista",2)\' onmouseover=\'sugo("Rendezhető. Ekkor fogom \xfajran\xe9zni a falut, hogy lehet e m\xe1r \xe9p\xedteni.<br>Dupla klikk=idő azonnalira \xe1ll\xedt\xe1sa.")\'>Return</th><th style="cursor: pointer;" onclick=\'rendez("szoveg",false,this,"epit_lista",3)\' onmouseover=\'sugo("Rendezhető. Sz\xf6veges inform\xe1ci\xf3 a faluban zajl\xf3 \xe9p\xedt\xe9sről. S\xe1rga h\xe1tterű sz\xf6veg orvosolhat\xf3; k\xe9k jelent\xe9se hogy nem tud haladni; piros pedig kritikus hib\xe1t jel\xf6l; a sz\xedn n\xe9lk\xfcli a norm\xe1lis műk\xf6d\xe9st jelzi.<br>Dupla klikk=alaphelyzet")\'><u>Inf\xf3</u></th></tr></table><p align="center" id="epit_ujfalu_adat">Csoport:  <select><option value="Alap\xe9rtelmezett">Alap\xe9rtelmezett</option> </select> Faluk: <input type="text" value="" placeholder="Koordin\xe1t\xe1k: 123|321 123|322 ..." size="50"> <a href="javascript: szem4_EPITO_ujFalu()" style="color:white;text-decoration:none;"><img src="'+pic("plus.png")+'" height="17px"> \xdaj falu(k)</a></p></td></tr>');var EPIT_LEPES=0,EPIT_HIBA=0,EPIT_GHIBA=0,EPIT_PAUSE=!1;function szem4_ADAT_saveNow(e){switch(e){case"farm":szem4_ADAT_farm_save();break;case"epito":szem4_ADAT_epito_save();break;case"sys":szem4_ADAT_sys_save()}}function szem4_ADAT_restart(e){switch(e){case"farm":localStorage.setItem(s+"_farm","3600.4.0.3600.1.false.false.100.10.500.90;;;;;;"),szem4_ADAT_farm_load();break;case"epito":localStorage.setItem(s+"_epito","__"),szem4_ADAT_epito_load();break;case"sys":localStorage.setItem(s+"_sys","Fatelep.Agyagb\xe1nya.Vasb\xe1nya.Fal.false;false.false.false;http://www youtube com/watch?v=k2a30--j37Q.true.true.true.true.true.true;"),szem4_ADAT_sys_load()}}function szem4_ADAT_StopAll(){for(var e=document.getElementById("adat_opts").rows,t=1;t<e.length;t++)e[t].cells[0].getElementsByTagName("input")[0].checked=!1}function szem4_ADAT_LoadAll(){szem4_ADAT_farm_load(),szem4_ADAT_epito_load(),szem4_ADAT_sys_load()}function szem4_ADAT_sys_save(){try{for(var e="",t=document.getElementById("vije").getElementsByTagName("input"),l=0;l<t.length;l++)"checkbox"==t[l].getAttribute("type")?t[l].checked?e+="true":e+="false":e+=t[l].value,l<t.length-1&&(e+=".");e+=";";for(var t=document.getElementById("adatok").getElementsByTagName("input"),l=0;l<t.length;l++)t[l].checked?e+="true":e+="false",l<t.length-1&&(e+=".");e+=";";for(var t=document.getElementById("hang").getElementsByTagName("input"),l=0;l<t.length;l++)"checkbox"==t[l].getAttribute("type")?t[l].checked?e+="true":e+="false":e+=t[l].value.replace(/\./g," ").replace(/;/g,"  "),l<t.length-1&&(e+=".");e+=";",localStorage.setItem(s+"_sys",e);var a=new Date;document.getElementById("adat_opts").rows[3].cells[2].textContent=a;return}catch(n){debug("ADAT_sys_save",n)}}function szem4_ADAT_farm_save(){try{for(var e,t="",l=document.getElementById("farm_opts").rows[2].cells[1].getElementsByTagName("input"),a=0;a<l.length;a++)"checkbox"==l[a].type?l[a].checked?t+="true":t+="false":t+=l[a].value,a<l.length-1&&(t+=".");t+=";",l=document.getElementById("farm_honnan").rows;for(var a=1;a<l.length;a++)t+=l[a].cells[0].textContent,a<l.length-1&&(t+=".");t+=";";for(var a=1;a<l.length;a++){e=l[a].cells[1].getElementsByTagName("input");for(var n=0;n<e.length;n++)e[n].checked?t+="true":t+="false",n<e.length-1&&(t+="-");a<l.length-1&&(t+=".")}t+=";",l=document.getElementById("farm_hova").rows;for(var a=1;a<l.length;a++)t+=l[a].cells[0].textContent,"red"==l[a].cells[0].style.backgroundColor&&(t+="R"),a<l.length-1&&(t+=".");t+=";";for(var a=1;a<l.length;a++)t+=l[a].cells[1].textContent,a<l.length-1&&(t+=".");t+=";";for(var a=1;a<l.length;a++)t+=l[a].cells[2].textContent,a<l.length-1&&(t+=".");t+=";";for(var a=1;a<l.length;a++)l[a].cells[4].getElementsByTagName("input")[0].checked?t+="true":t+="false",a<l.length-1&&(t+=".");localStorage.setItem(s+"_farm",t);var r=new Date;document.getElementById("adat_opts").rows[1].cells[2].textContent=r;return}catch(o){debug("ADAT_farm_save",o)}}function szem4_ADAT_epito_save(){try{for(var e="",t=document.getElementById("epit").getElementsByTagName("table")[0].rows,l=2;l<t.length;l++)e+=t[l].cells[0].textContent+"-"+t[l].cells[1].getElementsByTagName("input")[0].value,l<t.length-1&&(e+=".");e+="_",t=document.getElementById("epit").getElementsByTagName("table")[1].rows;for(var l=1;l<t.length;l++)e+=t[l].cells[0].textContent,l<t.length-1&&(e+=".");e+="_";for(var l=1;l<t.length;l++)e+=t[l].cells[1].getElementsByTagName("select")[0].value,l<t.length-1&&(e+=".");localStorage.setItem(s+"_epito",e);var a=new Date;document.getElementById("adat_opts").rows[2].cells[2].textContent=a;return}catch(n){debug("ADAT_epito_save",n)}}function szem4_ADAT_farm_load(){try{if(!localStorage.getItem(s+"_farm"))return;for(var e=localStorage.getItem(s+"_farm"),t=document.getElementById("farm_opts").rows[2].cells[1].getElementsByTagName("input"),l=e.split(";")[0].split("."),a=0;a<l.length;a++)"true"==l[a]?t[a].checked=!0:"false"==l[a]?t[a].checked=!1:t[a].value=l[a];t=document.getElementById("farm_honnan");for(var a=t.rows.length-1;a>0;a--)t.deleteRow(a);t=document.getElementById("farm_hova");for(var a=t.rows.length-1;a>0;a--)t.deleteRow(a);document.getElementById("farm_opts").rows[1].cells[0].getElementsByTagName("input")[0].value=e.split(";")[1],document.getElementById("farm_opts").rows[2].cells[0].getElementsByTagName("input")[0].checked=!0,add_farmolo(),document.getElementById("farm_opts").rows[1].cells[1].getElementsByTagName("input")[0].value=e.split(";")[3],add_farmolando(),setTimeout(function(){try{alert2("OK");var e=localStorage.getItem(s+"_farm"),t=e.split(";")[0].split("."),l=document.getElementById("farm_honnan").rows;if(e.split(";")[2].indexOf(".")>-1){t=e.split(";")[2].split(".");for(var a=0;a<t.length;a++)for(var n=l[a+1].cells[1].getElementsByTagName("input"),r=0;r<t[a].split("-").length;r++)"true"==t[a].split("-")[r]?n[r].checked=!0:n[r].checked=!1}l=document.getElementById("farm_hova").rows,t=e.split(";")[2].split(".");for(var a=0;a<t.length;a++)t[a].indexOf("R")>0&&(l[a+1].cells[0].style.backgroundColor="red");t=e.split(";")[4].split(".");for(var a=0;a<t.length;a++)l[a+1].cells[1].textContent=t[a];t=e.split(";")[5].split(".");for(var a=0;a<t.length;a++)l[a+1].cells[2].textContent=t[a];t=e.split(";")[6].split(".");for(var a=0;a<t.length;a++)"true"==t[a]?l[a+1].cells[4].getElementsByTagName("input")[0].checked=!0:l[a+1].cells[4].getElementsByTagName("input")[0].checked=!1;document.getElementById("farm_opts").rows[2].cells[0].getElementsByTagName("input")[0].checked=!1,alert2("Farmol\xe1si adatok bet\xf6lt\xe9se k\xe9sz.")}catch(o){alert("ERROR_LOAD\n"+o)}},700)}catch(n){debug("ADAT_farm_load",n)}}function szem4_ADAT_epito_load(){try{if(!localStorage.getItem(s+"_epito"))return;for(var e=localStorage.getItem(s+"_epito"),t=document.getElementById("epit").getElementsByTagName("table")[0],l=t.rows.length-1;l>1;l--)t.deleteRow(l);for(var t=document.getElementById("epit").getElementsByTagName("table")[1],l=t.rows.length-1;l>0;l--)t.deleteRow(l);for(t=document.getElementById("epit_ujfalu_adat").getElementsByTagName("select")[0];t.length>1;)t.remove(1);t=e.split("_")[0].split(".");for(var l=0;l<t.length;l++)document.getElementById("epit_ujcsopnev").value=t[l].split("-")[0],szem4_EPITO_ujCsop(),document.getElementById("epit").getElementsByTagName("table")[0].rows[l+2].cells[1].getElementsByTagName("input")[0].value=t[l].split("-")[1];t=e.split("_")[1].split("."),document.getElementById("epit_ujfalu_adat").getElementsByTagName("input")[0].value=t,szem4_EPITO_ujFalu(),t=e.split("_")[2].split(".");for(var a=document.getElementById("epit").getElementsByTagName("table")[1].rows,l=0;l<t.length;l++)a[l+1].cells[1].getElementsByTagName("select")[0].value=t[l];alert2("\xc9p\xedt\xe9si adatok bet\xf6lt\xe9se k\xe9sz.");return}catch(n){debug("ADAT_epito_load",n)}}function szem4_ADAT_sys_load(){try{if(!localStorage.getItem(s+"_sys"))return;for(var e=localStorage.getItem(s+"_sys"),t=document.getElementById("vije").getElementsByTagName("input"),l=e.split(";")[0].split("."),a=0;a<l.length;a++)"true"==l[a]?t[a].checked=!0:"false"==l[a]?t[a].checked=!1:t[a].value=l[a];for(var t=document.getElementById("adat_opts").getElementsByTagName("input"),l=e.split(";")[1].split("."),a=0;a<l.length;a++)"true"==l[a]?t[a].checked=!0:"false"==l[a]&&(t[a].checked=!1);var t=document.getElementById("hang").getElementsByTagName("input"),l=e.split(";")[2].split(".");t[0].value=l[0].replace(/\s\s/g,";").replace(/\s/g,".");for(var a=1;a<l.length;a++)"true"==l[a]?t[a].checked=!0:"false"==l[a]&&(t[a].checked=!1);alert2("Rendszereadatok bet\xf6lt\xe9se k\xe9sz.")}catch(n){debug("ADAT_epito_sys",n)}}function szem4_ADAT_del(e){try{if(!confirm("Biztos t\xf6rli a(z) "+e+" \xf6sszes adat\xe1t?"))return;localStorage.getItem(s+"_"+e)?(localStorage.removeItem(s+"_"+e),alert2(e+": T\xf6rl\xe9s sikeres")):alert2(e+": Nincs lementett adat");return}catch(t){debug("ADAT_epito_load",t)}}function szem4_ADAT_kiir(e){try{localStorage.getItem(s+"_"+e)?alert2("<textarea onmouseover='this.select()' onclick='this.select()' cols='38' rows='30'>"+localStorage.getItem(s+"_"+e)+"</textarea>"):alert2("Nincs lementett adat");return}catch(t){debug("szem4_ADAT_kiir",t)}}function szem4_ADAT_betolt(e){try{var t=prompt("Adja meg a kor\xe1bban SZEM4 \xc1LtAL KI\xcdRT ADATOT, melyet be k\xedv\xe1n t\xf6lteni.\n\n Ne pr\xf3b\xe1lj k\xe9zileg be\xedrni ide b\xe1rmit is. Helytelen adat megad\xe1s\xe1t SZEM4 nem tudja kezelni, az ebből ad\xf3d\xf3 műk\xf6d\xe9si rendelleness\xe9g csak RESET-el\xe9ssel \xe1ll\xedthat\xf3 helyre.");if(null==t||""==t)return;localStorage.setItem(s+"_"+e,t),"farm"==e&&szem4_ADAT_farm_load(),"epito"==e&&szem4_ADAT_epito_load(),alert2("Az adatok sikeresen bet\xf6ltődtek.")}catch(l){debug("szem4_ADAT_betolt",l)}}function szem4_ADAT_motor(){try{if(!ADAT_PAUSE){if(ADAT_FIRST)ADAT_FIRST=!1;else{var e=document.getElementById("adat_opts").rows;e[1].cells[0].getElementsByTagName("input")[0].checked&&szem4_ADAT_farm_save(),e[2].cells[0].getElementsByTagName("input")[0].checked&&szem4_ADAT_epito_save(),e[3].cells[0].getElementsByTagName("input")[0].checked&&szem4_ADAT_sys_save()}}}catch(t){debug("ADAT_motor",t)}setTimeout("szem4_ADAT_motor()",6e4)}function szem4_ADAT_AddImageRow(e){return'	<img title="Jelenlegi adat bet\xf6lt\xe9se" alt="Bet\xf6lt" onclick="szem4_ADAT_'+e+'_load()" width="17px" src="'+pic("load.png")+'"> 	<img title="T\xf6rl\xe9s" alt="T\xf6r\xf6l" onclick="szem4_ADAT_del(\''+e+'\')" src="'+pic("del.png")+'" width="17px""> 	<img title="Jelenlegi adat kiirat\xe1sa" alt="Export" onclick="szem4_ADAT_kiir(\''+e+'\')" width="17px" src="'+pic("Export.png")+'"> 	<img title="Saj\xe1t adat bet\xf6lt\xe9se" alt="Import" onclick="szem4_ADAT_betolt(\''+e+'\')" width="17px" src="'+pic("Import.png")+'"> 	<img title="Ment\xe9s MOST" alt="Save" onclick="szem4_ADAT_saveNow(\''+e+'\')" width="17px" src="'+pic("saveNow.png")+'">	<img title="Reset: Helyre\xe1ll\xedt\xe1s" alt="Reset" onclick="szem4_ADAT_restart(\''+e+'\')" width="17px" src="'+pic("reset.png")+'">'}szem4_EPITO_motor(),szem4_EPITO_perccsokkento(),ujkieg("adatok","Adatmentő",'<tr><td><p align="center"><b>Figyelem!</b> Az adatmentő legelső elind\xedt\xe1sakor bet\xf6lti a lementett adatokat (ha van), nem t\xf6rődve azzal, hogy jelenleg mi a munkafolyamat.<br>\xdaj adatok haszn\xe1lat\xe1hoz az adatmentő ind\xedt\xe1sa előtt haszn\xe1ld a t\xf6rl\xe9st a lenti t\xe1bl\xe1zatb\xf3l.</p><table class="vis" id="adat_opts" style="width:100%; margin-bottom: 50px;"><tr><th style="width:105px">Enged\xe9lyez\xe9s</th><th style="width:118px">Kieg\xe9sz\xedtő neve</th><th style="width:250px">Utols\xf3 ment\xe9s ideje</th><th  style="width:93px">Adat kezel\xe9se</th></tr><tr><td><input type="checkbox" checked></td><td>Farmol\xf3</td><td></td><td>'+szem4_ADAT_AddImageRow("farm")+'</td></tr><tr><td><input type="checkbox" checked></td><td>\xc9p\xedtő</td><td></td><td>'+szem4_ADAT_AddImageRow("epito")+'</td></tr><tr><td><input type="checkbox" checked></td><td>VIJE,Adatmentő,Hangok</td><td></td><td>'+szem4_ADAT_AddImageRow("sys")+'</td></tr></table><p align="center"></p></td></tr>');var ADAT_PAUSE=!1,ADAT_FIRST=!0;confirm("Enged\xe9lyezed az adatok ment\xe9s\xe9t?\nK\xe9sőbb elind\xedthatja, ha visszapip\xe1lja a ment\xe9s enged\xe9lyez\xe9s\xe9t - ekkor sz\xfcks\xe9ges k\xe9zi adatbet\xf6lt\xe9s is előtte.")?szem4_ADAT_LoadAll():szem4_ADAT_StopAll(),szem4_ADAT_motor(),$(document).ready(function(){nyit("naplo"),naplo("Indul\xe1s","SZEM4 Elindult. Hangteszt..."),soundVolume(.2),playSound("bot2"),szunet("farm",this),setTimeout(function(){naplo("Indul\xe1s","Hangteszt v\xe9ge. Ha nem hallotta a s\xedpsz\xf3t, v\xe9lhetőleg nem el\xe9rhető a cnc weboldal - haszn\xe1lja az alternat\xedv botriad\xf3t!"),soundVolume(1)},3e3),setTimeout("vercheck()",5e3),$(function(){$("#alert2").draggable({handle:$("#alert2head")}),$("#sugo").mouseover(function(){sugo("Ez itt a s\xfag\xf3")}),$("#fejresz").mouseover(function(){sugo("")})}),$("#farm_opts input").on("keydown keypress",function(){setTimeout("shorttest()",20)})});
